# compiling

```c
#include <stdio.h>

int main(void)
{
printf("hello, world\n");
}
```

컴파일 과정은 아래 네 개의 단계를 거친다.

- 전처리
- 컴파일링
- 어셈블링
- 링킹

## 전처리(Precompile)

컴파일 첫 번째 단계이다. 전처리기가 수행하는 과정으로 `#`으로 시작되는 C 소스 코드는 **전처리기에게 실질적인 컴파일이 이루어지기 전에 무언가를 실행하라고** 알린다. #include는 전처리기에게 다른 파일 내용 즉 라이브러리 파일을 포함시키라고 알려준다. 프로그램 소스 코드에 #include가 작성되었다면, 전처리기는 새로운 파일을 생성한다. 이 파일은 C 소스 코드 형태이며 stdio.h 파일 내용이 #include 부분에 포함된다.

## 컴파일(Compile)

전처리기가 전처리한 소스 코드를 생성한 뒤 다음 단계이다. 컴파일러라고 불리는 프로그램은 C를 어셈블리어라는 저수준 프로그래밍 언어로 컴파일한다. C코드를 어셈블리 코드로 변환시켜 **컴파일러는 컴퓨터가 이해할 수 있는 언어와 최대한 가까운 프로그램으로 만든다.**

## 어셈블(Assemble)

소스 코드가 어셈블리 코드로 변환되면, 다음 단계는 어셈블 단계로 어셈블리 코드를 오브젝트 코드로 변환시키는 단계이다. **컴퓨터의 중앙처리장치가 프로그램을 어떻게 수행해야 하는지 알 수 있는 명령어 형태인 연속된 0과 1들로 바꿔주는 작업이다.** 이 변환작업은 **어셈블러**라는 프로그램이 수행한다.
소스 코드에서 오브젝트 코드로 컴파일 되어야 할 파일이 딱 한 개라면, 컴파일 작업은 여기서 끝난다. 그렇지 않다면 링크라 불리는 단계가 추가된다.

## 링크(Link)

만약 프로그램이(stdio.h, math.h와 같은 라이브러리를 포함해)여러 개의 파일로 이루어져 있어 하나의 오브젝트 파일로 합쳐져야 한다면 링크라는 컴파일 마지막 단계가 필요하다. **링커는 여러 개의 다른 오브젝트 코드 파일을 실행 가능한 하나의 오브젝트 코드 파일로 합쳐준다. 예를 들어, 컴파일을 하는 동안에 math, CS50 라이브러리를 링크하면 오브젝트 코드는 GetInt(), GetString() 같은 함수를 어떻게 실행하는지 알 수 있다.** 이 네 단계를 거치면 최종적으로 실행 가능한 파일이 완성된다.
