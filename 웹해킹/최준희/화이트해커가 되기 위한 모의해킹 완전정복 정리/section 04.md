# Scetion 04
## (Tip or 중요 명령어)
## 18강
- man : 프로그램의 매뉴얼을 보여주는 명령어
- (name) -h : 프로그램의 옵션을 보여주는 man의 한단계 낮은 명령어
- which (name) : name이라는 파일의 위치를 알려주는 명령어
- **(name) find : 파일을 찾는 명령어**
- touch (name) : name이라는 아무 내용이 없는 빈 파일 생성
- ls -al : 디렉토리 파일리스트를 상세하게보기
- find / | grep (name) : name이라는 파일을 찾는 명령어
    - *find (찾는다) / (전체의 디렉토리에서) | (뒤에 명령어를 사용하겠다는 의미) grep (문자열) name (파일이름)* ---> **즉, 전체 디렉토리에서 문자열 name이라는 파일의 위치를 찾는다.**
- gedit (name) : name이라는 파일의 에디터 사용
- vi (name) : name이라는 파일의 에디터 사용 -> **추천하지않음**
    - i를 누르고 끼워넣기로 바꾼후에 입력할 내용을 적고 esc를 누르고 wq를 입력을 해서 저장을 한다.
- nano (name) : name이라는 파일의 에디터 사용
    - 입력할 내용을 바로 입력하고 Crtl + x를 누르고 y를 누르고 Enter를 누르면 저장후 나감
- service : 어떤 프로그램 또는 서비스를 껏다가 켜거나 하는 명령어
- service --status -all : 다양한 다른 서비스 (프로그램)와 상태를 보는 명령어
## 19강
- nc -lvp (포트번호) : (포트번호)라는 번호에 서버가 간단하게 열리는 명령어
    - nc -lvp (포트번호) > (file) : 클라이언트에서 네트워크로 들어오는 파일을 file이라는 파일로 출력을 해서 저장을 함
- nc (로컬ip) (포트번호) : (포트번호)를 가진 서버와 연결 명령어
    - nc -q 0 (로컬ip) (포트번호) < (/file/file) : /file/file의 파일의 내용을 입력을 받아 저장을 함
        - -q 0 : 파일을 받은 후에 종료하는 명령어
- cat /etc/passwd : 리눅스 사용자의 파일 확인 명령어 --> *주로 모의해킹할때 중요한 파일을 빼올때 사용함.*
### nc 옵션 설정
- n : 호스트 네임과 포트를 숫자로만 입력받는다.

- v : verbosity 를 증가 시킨다. 더 많은 정보를 얻을수 있다.
 
- o [filename]: 보내거나 받은 데이터를 헥스덤프하여 파일에 저장한다.

- u : TCP connection 대신에 UDP connection 이 이루어 진다.

- p [port number or name] : local-port 를 지정한다. 주로 -l 과 같이 사용하게 된다.

- s [ip address or DNS] : local ip address 를 지정한다. *모든 플렛폼에서 지원되지는 않는다.*

- l : listen 모드로 nc을 띠우게 된다. 당연히 target host는 입력하지 않는다. -p와 같이 사용하게 된다. nc를 server 로서 쓸때 사용.

- e [filename] : -DGAPING_SECURITY_HOLE 옵션으로 Make 되었을 때 사용가능하다.</br>
connection 이 이루어 졌을 때 file을 exec 시킨다. -l 과 같이 사용되면 한 instance만을 사용하는 inetd와 비슷하다.

- t : -DTELNET 옵션으로 컴파일 되었을 때 사용가능하다. telnetd에 접속이 가능하도록 접속시 telnet과 같은 협상과정을 거친다.

- i [interval time] : nc는 일반적으로 8K 씩 데이터를 보내고 받는데 그렇게 Standard input의 한 라인씩 interval time마다 보내게 된다.

- z : connection을 이루기위한 최소한의 데이터 외에는 보내지 않도록 하는 옵션.

- r : port 지정이 여러개로 되어 있으면 이때 scanning 순서를 randomize하고 (일반적으로 범위로 지정하면 높은 번호의 포트부터 스캔한다) 또한 -p 옵션에서 지정가능한 local port도 randomize 합니다. 이때 주의 할 것은 -p가 -r을 override 한다는 것입니다.

## 20강
- **바인드쉘**
    - 타겟(서버) 쪽에 서버포트가 열리고 해커(클라이언트)쪽에서 타겟으로 접속하여 생성시키는 쉘(일반적인 서버접속으로 생각한다)
    - 모의해킹 시나리오중 버퍼 오버플로우 취약점을 이용하여 서버에 새로운 포트를 열어서 해당포트로 침투하는 것을 생각해 볼 수 있다.
- **리버스 쉘**
    - 해커(클라이언트)에서 서버포트를 열고 타겟(서버)에서 해커 쪽으로 접속하여 생성시키는 쉘
    - 주로 기업에서는 보안장비를 이용해 방화벽으로 최소한의 포트만 열어놓고 사용하기 때문에 일반적인 바인드쉘로는 해킹에 이용하기 어렵다 그렇지만 사내에서 직원들이 외부로 인터넷을 사용하기 위해 내부→외부는 허용을 시키는 경우가 많다. 이러한 경우 리버스쉘을 이용할 수 있다.
