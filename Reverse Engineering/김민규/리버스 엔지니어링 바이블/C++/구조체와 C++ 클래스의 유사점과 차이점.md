# 구조체와 C++ 클래스

## 유사점

- ### 둘 모두 main()에서 선언되었을 때 sub 명령어로 스택을 사용할 만큼 확보한다.

- ### main()에서 선언되었을 때 특정 위치에 값을 저장할 때 [ebp]를 사용해 위치를 지정한다. 

## 차이점

- ### C++ 클래스는 클래스에 선언된 멤버 함수를 호출할 때 _thiscall 방식을 사용한다.
	
    - ### _thiscall 
        - **호출된 멤버 함수**에서 멤버 변수의 값을 활용할 수 있도록 클래스의 포인터를 ecx에 저장하는 호출방법
    	- 호출된 함수는 클래스의 포인터로 클래스 멤버 변수의 값을 활용할 수 있다.

	    Ex> 2가지 _thiscall 방식
        <pre>
        <code>
        lea  ecx, [ebp-88h] // main()에서 클래스 선언 방식
		call sub_401000

		mov  ecx, [ebp-4] // 동적할당 방식 // [ebp-4]는 클래스의 포인터 주소를 담고 있다.
		call sub_401030 // 클래스의 멤버 함수
        </code>
        </pre>