# 1신호의 전송과 충돌
## 1계층의 역할과 개요
- 1계층의 역할: *케이블이 연결되어 있는 기기에 신호를 전달하는 것.*
(케이블과 거기로 보내는 신호 등의 규칙에 따라 실제로 상대에게 데이터를 전달하는 역할.)
- 통신 매체에는 유선과 무선으로 나뉨.
- 유선의 케이블의 종류: UTP케이블, 광파이버 케이블
- 컴퓨터에서 사용되는 인터페이스로는 LAN용 케이블에 접속하기 위한 **NIC**를 사용.
- WAN의 경우 통상적으로 PC에는 NIC를 부착하지 않고 **DCE(회선종단기기)**라는 별도의 신호 변환기 사용.

## 신호와 충돌
- 디지털 신호와 비트
(연속적인 아날로그 신호와 비연속적인 디지털 신호, 데이터 통신에서는 일반적으로 디지털 신호가 사용.)
- **통신속도**: 1초 동안 전해지는 비트 수. (단위: bps(bit per second))
(통신속도는 '1초 동안의 신호의 횟수'와 '1회 신호의 비트수'로 정해짐.
**1초간의 신호의 횟수** x **1신호에서의 비트수** = **통신속도**)
- 신호의 발생하는 문제
1. **신호의 감쇠**
- 동선에 전기신호를 보내는데 동선에는 저항이 있어 긴 케이블을 지나는 동안 신호가 약해지는데 그렇게 되면 신호의 진폭이 약해져서 못 읽을 수도 있음.
2. **노이즈, 간섭**
- 전기신호가 어떤 원인에 의해 형태가 무너뜨려지는 것인데, 신호의 전폭을 정확하게 읽을 수 없게 될 가능성이 있음.
- 노이즈: 외적 요인에 의해 신호의 진폭이 변화.
- 간섭: 장거리 케이블을 지나는 동안 저항에 의해 신호사 약해짐.
3. **충돌**
-  신호가 보내지고 있는 도중에 다른 신호를 보내는 경우 발생. 이 경우 전기신호가 뒤섞여서 신호 진폭이 붕괴.

## 허브
1. 감쇠의 의해 붕괴된 신호를 본래의 형태로 증폭, 재생.
2. 복수의 기기를 연결해서 네트워크를 구축.(허브에 연결되어 있는 기기끼리 신호를 주고받을 수 있음.)
3. **연속 접속**: 허브 끼리 접속함으로써 신호가 도달하는 범위를 넓힘.
4. 허브는 수신한 신호에 대해 어떤 제어도 하지않음.
-  **플러딩**: 수신한 포트 이외의 모든 포트에 수신한 신호를 송신.
- **충돌 도메인**: 신호를 송신하면 충돌이 발생할지도 모르는 범위.
    - 허브로 연결되어 있는 범위는 충돌 도메인이 됨.
    - 충돌 도메인은 작아야만 함.

## 2계층의 역할과 개요
- 2계층의 역할: *신호가 닿는 범위에서의 데이터 전송에 관한 규정.*
(신호가 닿는 범위인 세그먼트 내에서의 데이터 통신을 생각.)
- 2계층에서 WAN과 LAN의 규칙이 다름.(LAN에서는 **이더넷**이 사실표준.)
- **프레이밍**: 1계층에서 주고받는 신호를 비트화해 거기에 의미를 갖게 하는 것.

## 2계층의 구조와 이더넷
- 컴퓨터상의 **주소**: 데이터를 보내는 상대와 자신을 특정하는 데이터.
    - **유니캐스트**: '1대1' 데이터 통신.
    - **브로드 캐스트**: '1대 전체', 즉 전원 모두에게 메시지를 보내는 데이터 통신.
    - **멀티 캐스트**: '1대 다수' 데이터 통신.
- 각각의 기기는 **유니 캐스트** 주소를 적어도 한개를 가짐.
- **어드레싱**: 주소를 어떻게 사용하고 배정하는 것. 
- **MAC 주소**: 이더넷에서 사용되는 주소로 인터페이스에 지정된 고정 주소.

## 이더넷
- 이더넷에서는 수신처와 송신처의 MAC 주소, 에러 체크 등을 헤더, 트레일러로 붙임.
- 수신한 프레임의 수신처가 자기가 아닌 경우는 파기.
- 되도록 충돌을 막기위해 **CSMA/CD**를 사용.
(충돌을 막는것이 아닌 일어나기 어렵게 하는 것.)

## 스위치
- **스위치**: 신호가 지나는 길을 나누기 위한 기기.(허브 대신 사용.)
- 충돌은 케이블상에서는 발생하지 않고 허브상에서 발생.
- **어드레스 테이블**: 포트에 연결되어 있는 컴퓨터의 MAC 주소를 기억.
- 스위치는  수신한 프레일의 송신처 MAC 주소와 수신한 포트의 대응을 학습
- 스위치는 *MAC 주소 필터링*과 *버퍼링*으로 충돌을 막음.
- 수신처 MAC주소에 대응한 포트만 프레임을 송신하는 것이 MAC 주소 필터링이다.

## 전이중 이더넷
- **버퍼링**: 수신처가 같은 프레임이 동시에 도달하게 되면하는 역할.즉, 충돌할 것 같은 프레임을 버퍼에 일시적으로 저장하고 첫번째 프레임 송신이 끝나면 저장해 두었던 프레임을 송신.
(버퍼링은 **버퍼**를 사용한 처리를 실행하는 걸 말하는데, 
버퍼는 일시적으로 데이터를 기록해 둘 수 있는 기억기기(메모리)이다.)
- 버퍼가 가득 찬 경우 충돌을 전하는 신호 또는 PAUSE 프레임에 의해 더 이상의 송신을 중단.
- **반이중 통신**: 누군가가 송신 중일 때는 송신 불가능, 자기가 송신중일 때는 수신 불가능.
- **전이중 통신**: 동시에 송신과 수신을 할 수 있는 방식.(=스위치를 사용한 전이중 이더넷)
- 충돌이 발생하지 않게 됨으로써 전이중 통신이 가능해짐.