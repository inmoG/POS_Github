# IP 어드레싱
## 3계층 역할과 개요
- 3계층의 역할: 세그먼트 간에서의 데이터 송수신을 하는 것. 즉, 인터넷 작업을 수행하는 것.
(3계층에서 사용하는 네트워크는 좁은의미로 세그먼트와 동의어로, 라우터와 라우터로 분배된 컴퓨터 그룹.)
- 라우터를 넘어서는 브로드 캐스트는 송신되지 않음.
(즉, 1개의 큰 네트워크를 복수릐 네트워크 분할함으로써 브로드캐스트가 도달하는 범위를 제한.)
- **인터넷 작업**:  네트워크 간에서의 데이터 송수신.(= 인터넷)
- 인터넷 작업으로 인해 떨어져 있는 컴퓨터끼리 데이터 통신이 가능해짐.

## 인터넷 프로토콜
- 2계층의 '세그먼트 내'에서의 데이터 송수신에서는 컴퓨터가 적어 충분하지만 3계층처럼 네트워크를 가로질러서 다르 네트워크에 데이터를 전송하게 되면 컴퓨터가 많아 '어디'라는 정보가 없으면 곤란하기 때문에 3계층을 위한 주소가 필요.
- 3계층에서 사용하는 주소를 **논리주소**라고 *어디에 있는지와 같은 위치정보*가 있음.
(2계층에서 사용하는 주소를 **물리주소**(=MAC주소)라함.)
- 물리주소와 논리주소의 차이는 *주소에 위치정보가 포함 되어었는지 없는지*의 차이.
(논리주소는 위치정보를 갖고있기때문에 수신처를 찾을 수 있음.)
- **라우팅**: 경로 선택 즉, 수신처까지 어떤 경로로 갈 지를 결정.
- **IP**: 인터넷 작업 프로토콜.(*TCP/IP에서는 IP를 반드시 사용*)
- IP는 IP버전4(IPv4)와 IP버전6(OPv6)로 나뉘며 둘사이에 호환성이 없음.
(IPv4를 사용하는 컴퓨터는 IPv6를 사용하는 컴퓨터와 송수신을 못함.)

## IP 주소 1
- 논리 주소의 특징
    - **계층형**.
    - 네트워크 관리자가 컴퓨터에 할당.
    - 소속되 네크워크가 바뀐 경우 논리 주소도 바뀜.
- 컴퓨터 번호는 소속된 네트워크 내에서 유일해야함.
- IP주소는 IPv4에서는 32비트, IPv6는 128비트.
- **옥텟**: 8비트의 단락(8비트를 1옥텟으로 하여 4개의 옥텟으로 분할해서 표기.)

## IP 주소 2
- **ICANN**: IP를 관리하는 단체(IP 주소를 실제로 사용하는 인터넷 사업자나 기업 등에 할당.)
- **클래스**: ICANN이 IP주소를 기업이나 인터넷 사업자에게 '대출'해준다고 했을 때 그 할당된 조직의 규모에 따라 대출 IP 주소의 범위를 변경하는 것.(A~E로 5개로 나눠져있음)
- 클래스에 의해 컴퓨터 번호의 비트수가 정해지고, 이것으로 조직이 가질 수 있는 IP 주소의 수량이 결정됨.
- **클래스풀 어드레싱**: 클래스로 나누어 IP 주소를 할당하는 방식.
- **호스트 번호**: 네트워크 번호를 할당한 컴퓨터 번호.(그 네트워크의 관리자가 마음대로 정함.) 
- 호스트 번호중에서는 특별한 의미를 가지기 때문에 실제의 컴퓨터에 할당해서는 안되는 주소가 존재.
(호스트 번호의 비트가 모두 0이 되는 주소, 호스트 번호의 비트가 모두 1인 주소.)
- 호스트 번호의 비트가 모두 0인 주소는 네트워크 주소이다.
- 호스트 번호의 비트가 모두 1인 주소는 브로드캐스트 주소이다.

## 서브네팅
- **서브 네트워크**(*=서브넷*): 커다란 네트워크 안에 작은 네트워크를 만드는 데 분할된 작은 네트워크.
(서브넷은 그 네트워크의 내부에서만 유효함.)
- **세브네팅**: 서브넷화 한 것.
- 서브넷 부분의 비트 수에 의해 서브넷의 수와 서브넷마다 사용할 수 있는 IP 주소의 수가 결정.
- **서브넷 마스크**는 IP 주소 중에 어디까지가 서브넷 번호인지를 나타내는데, 서브넷을 사용할 경우 서브넷 마스크라고 불리는 비트열을 IP 주소와 동시에 표기해야함.
- 서브넷마스크의 비트가 1인 부분이 네트워크 번호.
- 네트워크 번호와 서브넷 번호의 비트 수를 나타내기 위해 IP 주소와 함께 기술함.

## 클래스리스 어드레싱
- **클래스리스 어드래싱**: 클래스라는 구분을 없앤 어드레싱.
(클래스에 따른 고정된 할당을 하지않고 자유롭게 할당할 수 있음.)
- 클래스에 딱 맞지 않으면 사용하지 않는 주소가 생김.
- **프리픽스 길이**: 네트워크 번호의 길이를 나타내는 값.
- 클래스리스에서는 프리픽스 길이로 네트워크 번호의 비트 수를 나타냄.

## DHCP
- 이더넷을 사용해 IP 데이터그램을 송수신하기 위해서는 4개의 주소 (**수신처 MAC 주소, 송신처 MAC 주소, 수신처 IP 주소, 송신처 IP 주소**)가 필요함.
- 송신처 MAC 주소: 송신처인 자신의 MAC 주소인데, 송신할 인터페이스의 MAC 주소를 사용.
    - 송신처 IP 주소는 송신할 인터페이스에 설정되어 있는 IP 주소를 사용.
    - *정적*과 *동적*으로 나뉨.
        - 정적: 수동으로 IP주소를 설정
        - 동적: IP 주소가 자동으로 컴퓨터에 설정.(DHCP라는 프로토콜 사용.)
- **DHCP**: 할당할 IP 주소를 관리하고, 실제로 할당 작업을 수행하는 서버하고 할당받는 클라이언트로 이루어짐.
- 서버는 설정된 IP 주소 풀 중에서 요청한 클라이언트에게 각각 유일한 것이 되도록 주소를 할당.
- 각 클라이언트는 DHCP 서버가 가지고 있는 어드레스 풀로부터 IP주소를 할당 받음.

## ARP
- **ARP**: 주소 해결 프로토콜('이IP 주소의 호스트님, 당신의 MAC 주소를 알려주세요'라고 질문하는 프로토콜)
- **ARP 테이블**: IP주소와 MAC 주소의 대응표.
(ARP 테이블에 수신처의IP와 MAC 주소의 대응이 있으면 그 시점에서 수신처 MAC 주소를 알 수 있음.)
- ARP 테이블은 일정기간 경과하면 파기됨.
- 브로드캐스트로 ARP 요청을 보내고 대응하는 컴퓨터만 응답.

## DNS
- **DNS**: 이름과 IP 주소를 대응시킨 시스템.
- **도메인 명**: 송신할 상대의 컴퓨터 이름.( EX, HTTP:// 뒤에 오는 'WWW')
- 도메인 명은 IP주소와 마찬가지로 ICANN이 관리.
- 도메인 명으로 송신하고 싶은 상대를 간단하게 기억할 수 있도록 되어 있음.
(단, 데이터 통신에는 IP주소가 필요.)
- DNS 서버는 각 조직에 1개씩 있고 그 조직의 도메인 명만 관리.
- 다른 조직의 도메인 명에 대응하는 IP 주소는 그 조직의 DNS 서버에 문의해서 입수.
