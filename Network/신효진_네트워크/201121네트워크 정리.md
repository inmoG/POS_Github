# 1장. 네트워크 기초 지식
## 1. 네트워크란?
- 'Network'는 망(Net)과 작업하다(Work)라는 말로 이루어졌다.<br/>
- '연결되어 있다.' , 네트워크란 무언가와 무언가가 그물망처럼 무언가에 연결 되어있는 상태.<br/>
- 네트워크란 ‘무언가와 무언가를 무언가에 의해 연결해서’, ‘무언가를 운반하기’ 위한 것. ‘연결’과 ‘주고받기’가 네트워크.<br/><br/>

## 2. 네트워크의 장점
- 컴퓨터 네트워크란 컴퓨터와 컴퓨터가 그물망처럼 통신 매체로 연결되어서 데이터(정보)를 운반하는 것.<br/>
- 네트워크를 사용하는 이유<br/>
    - 복수의 컴퓨터에서 리소스를 공유할 수 있다. 리소스를 공유함으로써 한 대의 컴퓨터로는 할 수 없었던 일이 가능해지기도 하고, 한 곳에 통합함으로써 효율적이다.<br/>
- 리소스를 유용하게 활용하기 위해 공유하는 것이 바로 네트워크의 장점.<br/>
- 리소스는 데이터 통신으로 컴퓨터가 가진 리소스를 주고받음으로써 공유한다.<br/><br/>

## 3. 데이터 통신 기초
- 리소스를 공유하기 위해서는 컴퓨터가 가진 리소스를 주고 받을 필요가 있고. 그래서 이루어지는 것이 데이터 통신.<br/>
- 데이터란 무언가에 대한 정보를 컴퓨터상에서 표현한 것. 여기서 말하는 ‘정보’는 리소스를 공유하기 위해 사용하는 정보를 말하는 것이다. 이 정보는 비트(Bit)로 구성되는데, 비트는 ‘0’이나 '1'상태를 유지한다.<br/>
- 비트로 만들어진 데이터를 다른 컴퓨터에 보내거나 받는다. 이게 ‘데이터 통신’.<br/><br/>

- 데이터 통신<br/>
    - 네트워크에 의한 데이터 통신에 필요한 것은 '데이터를 가진 컴퓨터', ‘데이터를 받아들이는 컴퓨터', 여기에 둘을 연결하는 ‘통신 매체’가 필요함.<br/>
    - 컴퓨터와 컴퓨터 그리고 둘을 연결해서 데이터가 지나는 파이프가 있다고 예를 든다. 자세하게 말하자면 컴퓨터에 파이프를 연결할 때, 컴퓨터에 파이프 접속구가 필요하다. 이것을 인터페이스(Interface) 라고 한다.<br/>
- 이것들을 준비해서 데이터를 보내는데 그 전에 데이터를 주고받기 위한 규칙이 필요.<br/>
- 데이터를 보내는 쪽과 받는 쪽이 사용하는 규칙을 정한 뒤에 데이터를 주고 받아야 하는데, 이 규칙을 프로토콜(Protocol)이라고 한다. 즉, 보내는 쪽하고 받는 쪽이 프로토콜을 사용해야 하는 것.<br/>
<br/>

## 4. 회선 교환과 패킷 교환
- 다른 상대방에게 접속하고 싶은 경우에는 교환기가 상대와 연결된 교환기에 접속하는 것.<br/>
이런 식으로 교환기를 사용해서 파이프를 교체해가는 방식을 '회선 교환'이라고 한다.<br/>
- 하지만 다수의 컴퓨터가 자유롭게 정보를 송수신하려면 회선 교환 방법으로는 회선의 수가 너무
많아짐. 그래서 사용하는 것이 패킷 교환.<br/>
- 패킷 교환의 장점은 복수의 컴퓨터가 회선을 공유할 수 있게 되는 것과 회선이 1개면 된다는 것.<br/><br/>

## 5. 네트워크의 구조
-  패킷 교환에서 필요한 것은 패킷 교환기, 실제 네트워크에서는 라우터라는 기기가 역할을 한다.<br/>
- 패킷 교환없이 케이블 분배기로 연결되는 범위를 세그먼트(Segment)라고 하는데, 세그먼트 범위 내에 있는 컴퓨터는 패킷 교환없이 직접 데이터를 송수신할 있다.<br/>
- 네트워크에는 멀티액세스 네트워크와 포인트 투 포인트 네트워크의 두 종류가 있다.<br/>
- 두 종류가 조합되어 네트워크 전체가 구상된다.<br/><br/>

## 6. LAN과 WAN
- ‘네트워크의 범위나 규모’로 네트워크를 분류하는 것이 LAN (Local Area Network) 이다.<br/>
- LAN은 좁은 범위의 네트워크. 구체적으로 말해서 구내에 설치된 네트워크.<br/>
- ‘데이터 통신 서비스’를 제공하는 통신사업자에게 그들이 보유하고 있는 케이블에 데이터를 전송할 권리를 구입해서 네트워크를 구축하는 것. 이런 네트워크가 WAN(Wide Area Network) 이다.<br/>
- 바꾸어 말하면 떨어져 있는 지역의 LAN 통신사업자의 통신 케이블을 빌려서 연결한 네트워크가 WAN.<br/>
- 세계 최대 규모의 WAN은 인터넷이다.<br/><br/>

## 7. OSI 참조 모델
-  ISO 표준화 단계에서 선언한 것이 OSI 참조 모델인데, 데이터 통신의 단계 구성도이다.<br/>
- 데이터 통신을 단계로 나누어 각 단계의 순서를 명확히 하고, 모델에 따라 프로토콜을 정의해서 데이터 통신을 구축하려고 했다.<br/>
- OSI 참조 모델은 데이터 통신을 7개의 단계로 나누는데 이 단계를 계층(Layer)이라고 한다.<br/><br/>

| OSI  | 참조 | 모델 |
|:----------|:----------:|----------:|
| 제 7계층 | 응용 계층 | 사용자에게 네트워크 서비스를 제공한다. |
| 제 6계층 | 표현 계층 | 데이터의 형식을 결정한다. |
| 제 5계층 | 세션 계층 | 데이터 송수신의 순서 등을 관리한다. |
| 제 4계층 | 전송 계층 | 신뢰성이 높은(에러가 적은 전송을 시행한다. |
| 제 3계층 | 네트워크 계층 | 전송 규칙과 수신처를 결정한다. |
| 제 2계층 | 데이터 링크 계층 | 인접기기 사이의 데이터 전송을 제어한다. |
| 제 1계층 | 물리 계층 | 전기 • 기계적인 부분의 전송을 시행한다. |
<br/><br/>

- 각 계층마다 각각의 역할과 규칙이 있다.<br/>
- 어떤 계층의 프로토콜 변경은 다른 계층에 영향을 끼치지 않는다. 하위 계층은 상위 계층울 위해서 일하고 상위 계층은 하위 계층에 관여하지 않는다.<br/><br/>

## 8. 캡슐화
- 데이터를 운반하기 위해서는 운반하고 싶은 (데이터) 이외에 다른 것도 필요하다.<br/>
- 데이터 말고도 주소 같은 것들을 데이터랑 함께 보내는 것. 이렇게 데이터랑 데이터를 보내기 위해 필요한 것들이 통합된 상태를 프로토콜 데이터 유닛 (Protocol Data Unit:PDU) 이라고 한다.<br/>
- 계층이라는 단계를 실시할 때마다 거기에서 필요한 정보를 추가할 수 있다.<br/>
- 데이터에 제어 정보를 덧붙여서 PDU로 완성하는 것을 캡슐화 (KEncapsulatio) 라고 한다. 그리고 수신한 쪽에서는 캡슐을 벗겨가게 되는 것.<br/>
- 캡슐화에서 추가되는 제어 데이터 앞에 붙이면 헤더(Header), 뒤에 붙이면 꼬리부(Trailer) 라고 부른다.<br/><br/>

## 9. 프로토콜
- 데이터 통신에 필요한 프로토콜은 한 개가 아니라 복수의 프로토콜로 이루어진다.<br/>
- 프로토콜이 결정하는 것은 기본적으로 데이터 사용 방법과 어떤 헤더를 붙일지, 데이터를 주고 받는 순서.<br/>
- 가장 많이 사용되는 것이 TCP/IP 프로토콜군인데 이게 인터넷에서 사용되는 프로토콜군이다.<br/><br/>

## 10. TCP/IP 모델
- TCP/IP 모델에서 TCP/IP 프로토콜군이 제정되었다.<br/>
- TCP/IP 모델은 4개의 계층으로 이루어진다.<br/><br/>


# 2장. 신호와 충돌
## 11. 1계층의 역할과 개요
- 기본은 컴퓨터 같은 기기끼리 연결하는 '케이블'하고 데이터인 '신호' 두 가지다. 즉, 케이블이 연결되어 있는 기기에 신호를 전달하는 것이 1계층의 역할이다.<br/>
- 기기와 기기 사이를 연결해서 신호가 지나는 '파이프' 역할을 하는 것이 통신매체다.<br/>
- 컴퓨터에서 사용되는 인터페이스로는 LAN용 케이블에 접속하기 위한 NIC (Network Interface Card).<br/>
- LAN 경우는 PC에 달려있는 인터페이스 NIC에서 송신하는 거고, WAN 경우는 PC 인터페이스에서 DCE(Data Circuit
terminating Equipment: 회선종단기기)로 신호를 보내면 DCE가 WAN의 케이블에 맞는 신호로 다시 변환한다.<br/><br/>

## 12. 신호와 충돌
- 컴퓨터와 통신 매체를 중개하는 인터페이스는 비트를 신호로, 신호틀 비트로 변환하는 기기라고 하는 것. 신호에는 아날로그 신호와 디지털 신호가 있다.<br/>
- 신호의 형태와 전송 방법에 따라 통신 속도가 결정되는 것. 통신 속도는 일반적으로 1초 동안 전해지는 비트수로 표현되는 경우가 많은데, 단위로 사용되는 것이 bps(bit per second)이다.<br/>
- 신호에 발생하는 문제<br/>
    - 신호의 감쇠.<br/>
    - 노이즈 • 간섭<br/>
    - 충돌(Collision)<br/><br/>

## 13. 허브
- 허브에 케이블로 연결되어 있는 기기는 동일 케이블에 연결되어 있는 것하고 같은 취급을 받게 되는 것.<br/>
- 허브의 첫번째 기능은 신호의 증폭과 재생이다. 허브는 감쇠에 의해 붕괴된 신호를 본래의 형태로 증폭 • 재생한다. 증폭만 하는 기계로 리피터(Repeater)라는 것이 있다.<br/>
- 허브의 또 하나의 기능은 복수의 기기를 연결해서 네트워크를 구축하는 기능이다. 허브에 케이블을 연결함으로써 하나의 케이블에 연결되어 있는 동일한 취급을 받게 되니까 허브에 연결되어 있는 기기끼리 신호를 주고 받을 수 있게 되는 것.<br/>
- 문제는 허브는 수신한 신호에 대해 어떤 제어도 하지 않는다는 것이다.<br/>
- 허브는 수신한 포트 이외의 모든 포트에 수신한 신호를 송신하는데, 이게 플러딩(flooding)이라는 것.<br/>
- 그래서 허브에 연결되어 있는 기기가 신호 보내면 충돌이 일어날 가능성이 있다. 이 범위를 충돌 도메인(Colli—
sion Domain)이라고 한다.<br/>
- 충돌을 막아야만 해서, 충돌 도메인은 작아야 한다.<br/><br/>

## 14. 2계층의 역할과 개요
- 신호의 송신 전이나 수신 후에 바르게 데이터를 송수신하는 순서가 필요하다.<br/>
- 2계층에서는 신호가 닿는 범위에서의 데이터 전송에 관한 규정을 생각한다고 할 수 있다.<br/>
- 신호가 닿는 범위는 세그먼트 범위에서의 데이터 전송.<br/>
- 1계층에서 다루는 신호랑 케이블 등에 따라 2계층의 규격이 달라지게 된다.<br/>
- 규칙을 간단히 분류하면 LAN용하고 WAN용이 있다. 3계층 이상의 계층에서는 LAN이나 WAN이나 동일한 규칙을 사용한다. 2계층에서는 'LAN' 규칙에 관해 설명한다.<br/>
- LAN에서는 이더넷(Ehernet)이 사실표준이다.
<br/><br/>

## 15. 2계층 주소와 이더넷
- 이더넷에서 어떻게 '신호가 도달하는 범위에서 데이터를 송수신하는지'를 알아야 하는데 먼저 기억할 것은 주소(Address)다. 그리고 주소를 어떻게 사용할지 어떻게 배정할지 같은 것을 어드레싱(Addressing)이라고 한다.<br/>
- 주소는 데이터를 보내는 상대와 자신을 특정하는 데이터를 말한다.<br/>
- 데이터 전송 방법에 따라 3종류가 있다. 유니캐스트(Unicast), 브로드 캐스트(Broadcast), 멀티캐스트(Multicast). 이들은 각각 유니캐스트 주소, 브로드 캐스트 주소, 멀티 캐스트 주소를 사용한다.<br/>
    - 유니캐스트는 '1대1' 데이터 통신.<br/>
    - 브로드 캐스트는 '1대 전체'로 전원, 즉 모두에게 메시지를 보내는 데이터 통신.<br/>
    - 멀티 캐스트는 '1대 다수'로, 지정된 복수의 기기로 메시지를 보내는 데이터 통신.<br/>
- 각각의 기기는 유니캐스트 주소를 적어도 한 개 갖고 있다는 사실.<br/>
- 인터페이스마다 유니캐스트 주소를 갖는 것. 그리고 유니캐스트 주소는 유일해야 한다.<br/>

- 이더넷에서 사용되는 주소는 MAC 주소 (Media Access Control Address)라고 불리는 주소로, 이 주소는 인터페이스에 지정된 고정 주소이다.<br/> <br/>

## 16. 이더넷
- 이더넷 프레임 : 통신 도중에는 에러를 고칠 수 없다. 그래서 에러가 있었던 프레임은 파기된다. 그 시점에서 버려지고 이후의 처리는 하지 않는다. 그리고 파기했다는 것은 송신측에는 알리지 않는다.<br/>
- 수신한 프레임의 수신처 MAC 주소를 보고 자기에게 온 것 외의 다른 프레임을 파기하는 것.<br/>
- 이더넷에서는 '신호를 보내는 타이밍을 겹치지 않도록 비켜나게' 함으로써 '되도록 충돌이 일어나지 않도록' 하는데,이를 위해서 CSMA/CD(Carrier Sense Multiple Access/Coliision Detection) 라는 액세스 제어를 시행한다.<br/><br/>

## 17. 스위치
- '신호가 지나는 길을 나누기' 위한 기기가 이번에 설명하는 스위치(Switch). 이것을 허브 대신에 사용한다.<br/>
- 충돌은 허브에서 발생한다.<br/>
- 스위치 안에서 수신한 프레임 따로따로 보낼 수 있도록 처리해서 충돌을 막는다. 어떻게 하느냐면 MAC 주소 필터링과 버퍼링, 두 가지를 시행한다.<br/>
- MAC 주소 필터링은 ‘학습’ ‘스위칭’이라는 동작으로 이루어져 있다. 우선 학습인데, 이것은 수신한 프레임의 송신처 MAC 주소를 기록하는 것. 이것으로 수신한 포트랑 MAC 주소랑 연관 짓는다.<br/>
- '학습'에 의해 스위치는 포트에 연결되어 있는 컴퓨터의 MAC 주소를 기억하는 것. '포트에 MAC 주소를 가진 컴퓨터가 있습니
다.'라고 기억하는 것이다. 대응표를 어드레스 테이블이라고 한다.<br/>
- 프레임을 수신한 스위치는 프레임의 수신처 MAC 주소를 보고 MAC 주소가 있는 포트만 프레임을 송신하는 것.<br/>
- 그 결과 수신처가 다른 프레임이 동시에 스위치에 도달해도 충돌은 발생하지 않게 된다.<br/><br/>

## 18. 전이중 이더넷
- 수신처가 같은 프레임이 동시에 도달하면 버퍼링이 걸린다. <br/>
- 충돌이 일어나지 않도록 충돌할 것 같은 프레임을 버퍼에 일시적으로 저장해 두는 것.<br/>
- 버퍼의 용량이 부족할 정도로 프레임이 도달한 경우에는 백 프레셔(Back Pressure) 또는 iEEE802.3x라는 규격을 사용해서 송신을 조정한다.<br/>
- 충돌 도메인은 스위치에 의해 분할되는 것.<br/>
- '동시에 송신과 수신을 할 수 있는' 방식을 전이중 통신(Full-Duplex)이라고 부른다. 스위치를 사용한 경우엔 충돌을 염려할 필요가 없으니까 CSMA/CD를 사용할 필요없어. 그래서 전이중 통신을 할 수 있다는 것.
<br/><br/>

# 3장. IP 어드레싱

## 19. 3계층의 역할과 개요
- 간단히 말하면 라우터와 라우터 간의 범위라고 생각하면 된다.<br/>
- 세그먼트 간에서의 데이터 송수신을 하는 것이 3계층.<br/>
- 라우터를 넘어서는 브로드캐스트는 송신되지 않는다. 1개의 네트워크를 복수의 네트워크로 분할함으로써 브로드캐스트가 도달하는 범위를 제한할 수 있는 것.<br/>
- '네트워크 간에서의 데이터 송수신'을 인터넷 작업(Intemetwcrk)이라고 한다.<br/><br/>

## 20. 인터넷 프로토콜
- 2계층과 3계층에서 2개의 주소를 사용한다. 3계층에서 사용하는 주소는 논리 주소라고 불리는데 이 주소는 어디에 있는지와 같은 위치정보가 있다. 그걸로 수신처를 찾을 수 있다.<br/>
- 역할 첫 번째가 어드레싱이다. 3계층을 위한 주소가 필요하다. <br/>
- 3계층의 번째 역할은 라우팅(routing)인데 '경로 선택'이라고 생각하면 된다. 수신처까지 어떤 경로로 갈 지를 결정한다.<br/>
- 두 가지‘어드레싱’하고 ‘라우팅’에 의해 인터넷 작업을 수행하기 위한 프로토콜로서 TCPP/IP 프로토콜군에서 사용되는 것이 IP(intemet Protocol). TCP/IP에서는 IP를 반드시 사용한다.<br/><br/>


## 21. IP 주소 1
- ip 주소 특징은 네트워크 관리자가 컴퓨터에 할당한다는 점이다.<br/>
- 논리 주소는 '어디에 있는', '컴퓨터'라는 의미니까 소속된 네트워크가 바뀐 경우, 논리 주소도 바뀌게 되는 것.<br/>
- 논리 주소에도 유니캐스트, 멀티캐스트, 브로드캐스트의 3종류의 주소가 있다. 그리고 유니캐스트 주소의 논리 주소 중 네트워크를 표시하는 번호는 접속되어 있는 모든 네트워크에서 유일할 필요가 있다.<br/>
- 컴퓨터 번호는 소속된 네트워크 내에서 유일해야 하는 것.<br/>
- IP 주소는 32비트. 8비트마다 10진수로 표기하고 8비트 사이에 점을 찍는다. 32비트로 '네트워크 번호', '컴퓨터 번호'를 나타낸다.<br/><br/>

## 22. IP 주소 2
- 클래스는 A~E 5개로 나뉘어있다. 클래스A는 최초의 8비트. 최초의 옥텟이 네트워크 번호이고 나머지가 컴퓨터 번호다. 클래스B는 16비트와 16비트. 클래스C는 24비트와 8비트.<br/>
- 이들 클래스를 어떻게 식별하는가 하면 최초 옥텟의 맨앞 비트로 판별한다.<br/>
- 비트수가 많다는 건 그만큼 사용할 수 있는 번호가 많아진다는 의미이다. 즉, 그만큼 많은 컴퓨터를 소유하는 네트워크가 될 수 있다는 말이다.<br/>
- 이처럼 클래스로 나누어 IP 주소를 할당하는 방식을 클래스 어드레싱(Classfull Addressing)이라고 한다.<br/>
- 네트워크 번호를 할당하면 컴퓨터 번호, 이것을 호스트 번호라고 하는데, 호스트 번호는 네트워크의 관리자가 마음대로 정한다.<br/>
- 호스트 번호 중에는 특별한 의미를 가지기 때문에 실제의 컴퓨터에 할당해서는 되는 주소가 존재한다. 그건 호스트 번호의 비트가 모두 0이 되는 주소(네트워크 주소)와 호스트 번호의 비트가 모두 1인 주소(브로드 캐스트 주소)다.<br/>
<br/>

## 23. 서브네팅
- 계층형 : 커다란 네트워크를 한 개의 네트워크로 작게 분할하는 것.<br/>
- 이렇게 분할된 작은 네트워크를 서브 네트워크(Subnetwork) 또는 서브넷(Subnet)이라고 한다.<br/>
- 서브넷으로 분할할 때는 서브넷 번호가 필요하지만 IP 주소는 32비트로 고정되어 있어서 새롭게 서브넷 번호를 추가하는 것은 불가능하다. 그래서 호스트 번호의 비트를 서브넷 번호와 호스트 번호로 분할하는 것.<br/>
- 서브넷은 네트워크의 내부에서만 유효하다.<br/>
- 서브넷의 숫자를 크게 하면 서브넷의 호스트 수는 감소한다.<br/>
- 문제점<br/>
    - 컴퓨터가 어느 네트워크에 소속되어 있는가 라는 문제. ip 주소의 어디까지가 네트워크 주소인지 모르면 그것이 자신과 동일한 네트워크인지 아니 다른 네트워크인지 모르게 된다.<br/>
- 그래서 서브넷을 사용할 경우에는 서브넷 마스크(Subnetmask)라고 불리는 비트열을 IP 주소와 동시에 표기해야 한다. 서브넷 마스크는 IP 주소 중에 어디까지가 서브넷 번호인지를 나타낸다.<br/>
- 간단하게 말하면 서브넷 마스크의 비트가 1인 부분이 네트워크 번호.
<br/><br/>

## 24. 클래스리스 어드레싱
- 크기를 3개로만 구분하니까 구분에 맞지 않으면 아무래도 낭비가 많아지고, 사용되지 않는 IP 주소가 증가하는 것.<br/>
- 그래서 등장한 것이 클래스리스 어드레싱(Classless Addressing).<br/>
- 클래스라는 구분을 없앤 어드레싱이 클래스리스 어드레싱이다. 클래스에 따른 고정된 할당을 하지 않고 자유롭게 할당할 수 있게 된다.<br/>
- 지금까지 사용했던 클래스 할당에 의한 클래스C 네트워크를 통합해서 하나로 운영하는 것. 낭비가 없고 편리해서 지금은 클래스리스 어드레싱이 주로 사용되고 있다.<br/>
- 문제점<br/>
    - 클래스가 없기 때문에 어디까지 네트워크 번호의 비트인지를 모른다는 것.<br/>
- 물론 해결책으로 서브넷마스크도 쓴다. 하지만 정확히 말하면 서브넷마스크는 클래스풀 네트워크의 서브네팅에서 사용하는 거고 클래스리스 드레싱에서 사용하는 건 아니다.<br/>
- 서브넷마스크가 아니라 프리픽스 길이(Prefix-Length) 라는 것을 사용한다. 리픽스 길이는 네트워크 번호의 길이를 나타내는 값인데 이것을 IP 주소랑 같이 쓰는 것.
<br/><br/>

## 25. DHCP
- 이더넷을 사용해서 IP 데이터그램을 송수신하기 위해서는 4개의 주소가 필요하다. '수신처 MAC 주소', '송신처 MAC 주소', '수신처IP 주소', '송신처IP 주소'.<br/>
- IP 주소가 설정되는 것에는 '정적'인 것과 '동적'인 것 2종류가 있다.<br/>
    - 정적인 것은 수동으로 IP 주소를 설정하는 방법인데 네트워크 관리자가 정한 IP 주소를 자신의 컴퓨터에 입력하는 것.<br/>
    - 동적인 것은 IP 주소가 자동으로 컴퓨터 설정되는 방법이야. 이것은 DHCP(Dynamic Host Configuration Protocol)라고 하는 프로토콜을 사용한다.<br/>
- DHCP는 할당할 IP 주소를 관리하고, 실제로 할당 작업을 수행하는 서버(Sever)하고 할당받는 클라이언트(Client)로 이루어진다.<br/>
- ip 주소 풀이라는 것은 사전에 관리자가 할당할 주소의 범위를 말하는 것.<br/>
- 서버는 설정된 IP 주소 풀 중에서 요청한 클라이언트에게 각각 유일한 것이 되도록 주소를 할당하는 것.<br/>
- 네트워크 관리자는 사전에 ip 주소의 대여 기간을 결정해 놓을 필요가 있다. 지금까지 할당한다는 표현을 했는데 실제로는 ip 주소 풀에서 ip 주소를 대여한다는 표현이 가장 적절하다.<br/>
- DHCP는 IP 주소만이 아니라 다른 네트워크의 설정 정보도 보낼 수 있다. 그래서 동적 호스트 설정 프로토콜이라고 불리는 것.<br/>
- 브로드캐스트를 사용하는 것. 컴퓨터가 기동한 시점에서는 클라이언트는 누구에게 메시지를 보내면 좋을지 모르기 때문에 전체수신으로 보내버리는 것이다.<br/><br/>

## 26. ARP
- 수신처 MAC 주소는 수신처의 IP 주소가 결정된 후에 정해진다.<br/>
- '주소 해결 프로토콜’이라고 한다. ARP는 ‘IP 주소의 호스트님, 당신의 MAC 주소를 알려 주세요.’라고 질문하는 프로토콜인데 이걸로 ‘MAC 주소를 모르는’ 상태를 '해결'하는 것. 그래서 '주소 해결 프로토콜'이라고 부른다.<br/><br/>
- 데이터를 전송하고 싶은 컴퓨터는 수신처의 IP 주소를 결정하고, 후에 수신처 mac 주소를 알기 위해서 ARP 테이을 참조하는 것.<br/>
- ARP 테이블은 IP 주소와 MAC 주소의 대응표를 말한다.<br/>
- '알려달라'는 동작을 ARP 요청이라고 부른다. ARP 요청은 브로드캐스트로 네트워크 내의 모든 컴퓨터에 송신되는 것.<br/>
- ARP 요청을 받은 컴퓨터 중에 지정된 IP 주소를 갖는 컴퓨터만이 ARP 응답을 보내는 것.<br/>
- ARP 테이블은 일정 기간이 지나면 파기된다.<br/>
<br/>

## 27. DNS
- 도메인 명은 요약하면 송신할 상대의 컴퓨터 이름을 말하는 것.<br/>
    - ex) WWW로 사용되고 있는 http:// 뒤에 오는 문자열.<br/>
- 도메인 명은 IP 주소와 마찬가지로 ICANN이 관리하고 있다. 도메인으로 송신하고 싶은 상대를 간단하게 기억할 수 있도록 되어 있다고 보면 된다.<br/>
- 문제점<br/>
    - 역시 데이터 통신에는 IP 주소가 필요하다.<br/>
- DNS는 이름과 IP 주소를 대응시킨 시스템이다. 이름과 IP 주소의 대응 데이터베이스를 갖고있는 DNS 서버에 문의해서 수신처의 IP 주소를 입수하는 것.<br/>
- DNS 서버는 조직에 1개씩 있고, 그 조직의 도메인 명만 관리하는 것.<br/>
- 다른 조직의 호스트 명과 도메인 명은 조직의 DNS 서버에 묻는다.<br/><br/>

# 4장. 라우팅

## 28. 주소와 경로
- MAC 주소는 같은 네트워크 내에서의 수신처를 결정하고, 그에 비해 IP 주소는 수신처의 컴퓨터를 결정한다고 할 수 있다.<br/>
- MAC 주소로 ‘다음 수신처’를 지정하고 IP 주소로 ‘최종 수신처’를 지정해서 이런 식으로 최종  수신처까지의 경로가 만들어지는 것.<br/>
- 그리고 라우터라는 장치가 경로를 결정하는 역할을 하는 것.<br/>
- 이렇게 반복해서 '다음 길'을 제시해 가는 방식을 홉 바이 홉 (Hop-by_Hop) 이라고 하는데, 라우팅에서 홉이란 라우터를 가리키는 용어이다.<br/>
- 여기에서 중요한 것은 라우터가 없으면 다른 네트워크에 데이터그램을 보낼 수 없다는 것이다.<br/>
- 컴퓨터에 설정되어 있는 라우터는 디폴트 게이트웨이라고 부른다.<br/><br/>

## 29. 라우터
-  라우터야 말로 인터넷 작업에 있어서 가장 중요한 장치인 것.  <br/>
- 라우터는 어떤 네트워크에서 다른 네트워크에 데이터그램을 보내는 역할을 하고 '네트워크와 네트워크의 경계상'에 배치되기 때문에 복수의 인터페이스를 가질 수 있다.<br/>
- 라우터의 인터페이스는 각각의 네트워크에 소속되어 있는 형태.<br/>
- ‘라우팅을 한다’에서 라우팅이란 간단하게 말하면 데이터그램의 수신처 IP 주소를 근거로 다음에 송신하는 라우터를 결정하는 건데 이것을 수행함으로써 ‘경로’가 결정되는 것.<br/><br/>
- 라우터는 라우팅 테이블이라는 것을 가지고 있다. 최적 경로의 지도.<br/>
- 이 지도에는 수신처 네트워크까지의 거리, 다음에 도달하는 라우터, 라우터에 연결되어 있는 자신의 인터페이스 등이 기재되어 있다. 라우터는 테이블을 따라 수신 패킷을 수신처까지 보내는 것. 라우팅 테이블이야말로 라우터의 중요한 요소다.<br/><br/>

## 30. 디폴트 게이트웨이
- 라우터가 네트워크를 나누기 때문에 브로드캐스트가 다른 네트워크에 송신되지 않도록 한다. 브로드캐스트가 도달하는 범위를 브로드캐스트 도메인(Broadcast Domain)이라고 하는데, 라우터는 브로드캐스트 도메인을 나눌 수 있다.<br/>
- 충돌 도메인은 스위치가 구분하고 브로드캐스트 메인은 라우터가 구분하는 것.<br/>
- 허브는 어느 쪽에도 영향을 미치지 않는다.<br/>
-  문제는 ARP가 브로드 캐스트라는 점이다. 라우터가 브로드캐스트를 다른 네트워크에 전송하지 않기 때문에 ARP는 수신처까지 도달하지 않는다.<br/>
- 디폴트 게이트웨이가 네트워크의 출입구다.<br/>
- 다른 네트워크로 데이터를 전송하고 싶은 호스트는 일단 디폴트 게이트웨이로 데이터를 보내서 다른 네트워크로 전송한다. 컴퓨터가 최초로 데이터를 보내는 수신처는 디폴트 게이트웨이가 되는 것.<br/>
- 컴퓨터는 다른 네트워크에 데이터를 송신할 때 디폴트 게이트웨이로 ARP를 수행하는 것.<br/>
- 컴퓨터에는 디폴트 게이트웨이의 IP 주소를 미리 설정해 두는 것. 설정 방법은 수동이나 DHCP로 한다.<br/><br/>

## 31. 라우팅
-  라우터는 최적의 경로를 찾기 위해 다른 네트워크 경로를 모두 알아야 할 필요가 있다. 그리고 알고 있는 경로 중에서 최적의 경로를 선택해서 라우팅 테이블을 작성하는 것.<br/>
- 다른 네트워크의 모든 경로를 아는 2가지 방법이 있다. 정적 라우팅과 동적 라우팅.<br/>
    - 정적 라우팅은 관리자가 수동으로 경로를 입력하는 것.<br/>
    - 동적 라우팅은 라우터가 자동으로 정보를 서로 교환해서 경로를 알아내는 방법.<br/>
- 모든 경로 중에서 자동으로 최적의 경로를 선택해서 라우팅 테이블을 작성하는 것이 동적 라우팅이다.<br/>
- 최대의 단점은 모든 라우터가 동일한 정보를 가져야 한다는 점이다. 모든 라우터가 동일한 정보를 가지고 있는 상태를 컨버전스 (Convergence)라고 말하는데, 네트워크의 라우터들은 컨버전스가 되어야 한다.<br/><br/>

## 32. 라우팅 프로토콜
- 라우터는 동적 라우팅을 실현할 라우팅 프로토콜(Routing Protocol)을 사용할 수 있도록 되어 있는데 라우팅 프로토콜은 근접해 있는 라우터 간의 네트워크 정보를 서로 교환하기 위한 규칙이다.<br/>
- 네트워크 정보 교환하는 방법은 교환한 정보를 근거로 라우팅 테이블을 변경하는 것.<br/>
- 하나의 관리 단체에 의해 관리되는 네트워크 집합체를 말하는데 라우팅에서는 자율화시스템(Autonomous System) 범위로써 취급된다.<br/>
- 라우팅 프로토콜은 크게 두 종류가 있다.<br/>
- AS 간 라우팅용과 AS 내부 라우팅용 이렇게 두 가지가 있다. 각각 EGP(Exterior Gateway Protocol), IGP(lnterior Gateway Protocol)라고도 부른다.<br/><br/>

## 33. RIP
- 최적의 경로를 결정할 때의 판단 기준을 메트릭(Metric)이라고 한다.<br/>
- 중계하는 라우터의 수. 회선의 속도, 정체상태 에러 발생률 등의 판단기준에 따라 라우팅 프로토콜에 의해 결정된 값을 계산해서 최소 값을 갖는 것을 최적의 경로로 결정하는 것.<br/>
- 라우터가 다른 라우터와 교환하는 정보를 RIP에서는 라우팅 업데이트(Routing Update)라고 부른다.<br/>
- 라우팅 테이블을 그대로 교환한다. 30초에 1번씩. 6번 수신 받지 않으면 라우터에는 원가 장애가 발생했다고 간주
해서 라우터를 사용하는 경로들을 파기해 버리는 것.<br/>
- RIP 메트릭에서 수를 사용하는데 수라는 것은 수신처 네트워크까지 통과하는 라우터 수를 말하는 것.<br/>
- RIP 간단히 말해서 업데이트를 수신하면, 자기가 모르는 네트워크를 테이블에 추가하는 건데 그때, 업데이트를 보내 온 라우터를 앞의 네트워크에의 중계 라우터로 업데이트를 받은 인터페이스를 앞의 네트워크에의 송신 인터페이스로 정하도록 하는 것이다.<br/>
- RIP에서는 이미 테이블에 존재하는 네트워크에 대해서 새로운 정보가 업데이트되어 새로운 경로 쪽이 메트릭이 작으면 그쪽을 테이블에 기재한다.<br/><br/>

## 34. ICMP
- 3계층의 프로토콜은 IP 이외에도 ICMP(!nternet Control Message Protocol)라는 프로토콜이 있다.<br/>
- 인터넷 제어 메시지 프로토콜, 에러 보고 프로토콜이라고 할 수 있다.<br/>
- 네트워크의 제어 관리에 사용되는 것이 ICMP다. <br/>
- ICMP에는 크게 나눠서 2종류의 메시지가 있다. Query 메시지와 Error 메시지.<br/>
    - Query는 상태를 조사하기 위해 사용되는 메시지.<br/>
    - Error는 그냥 에러를 통지하기 위한 메시지.<br/>
- IP 데이터그램의 TTL은 경유할 때마다 1만큼씩 줄어들고, 0이 되면 그 데이터그램은 파기된다. 그래서 IP 데이터그램의 '생존시간' TTL(Time To love) 이라는 것.<br/><br/>

## 35. Echo와 Time Exceeded
- ‘Echo’, 타입0의 에코 응답(Echo Reply)과 타입8의 에코 요청(Echo Request)이다. <br/>
- 송신측은 에코 요청을 보내고 그것을 수신한 컴퓨터는 에코 응답을 돌려 보내는 구조를 의미한다.<br/>
- 'Echo' 개념을 이용한 ping이라는 임의의 수신처에게 에코 요청을 보내는 소프트웨어 있다. 소프트웨어는 네트워크 관리자의 필수품이라고 할 수 있다.<br/>
- 에코의 요청과 응답을 서로 주고받게 되는데 그것은 송신처와 수신처 간의 데이터를 송수신할 수 있다는 의미가 된다.<br/>
- TTL은 끊어진 패킷을 파기하는데 이때 파기한 것을 통지하는 메시지가 Time Exceeded.<br/>
- traceroute는 수신처까지의 경로를 가르쳐 주는 소프트웨어다. 정확히 말하면 수신처에 도달하기까지 경유하는 라우터를 가르쳐 주는 것. <br/>
- 라우터 관리자는 ICMP 운용에 주의할 필요가 있다. 크래커(Cracker) 공격에 이용되기도 하기 때문에.<br/><br/>

# 5장. 컨넥션과 포트 번호

## 36. 4계층의 역할과 개요
- 4계층 이상의 상위 계층에서는 전달할, 전달된 데이터에 대해 필요한 처리를 한다.<br/>
- 4계층의 경우는 '신뢰성이 높은(에러가 적은) 데이터 전송을 하기'위한 처리를 한다. 즉, 3계층까지는 수신처 자체가 존재하지 않거나 데이터가 도중에 손실됐거나 에러에 의해 파기됐다는 등의 문제들은 신경 쓰지 않는다는 것.<br/>
- 그래서 4계층이 에러 복구를 하는 것.<br/>
- 신뢰성이 높은 통신을 위해서 에러를 복구하고 통신 상태도 확인하는 것을 흐름 제어라는 방식으로 수행한다.<br/>
- 통신에서 데이터를 주고받는 컴퓨터 소프트웨어를 애플리케이션(Application)이라고 부르는데, 실은 데이터를 주고받는 것은 애플리케이션인 것.<br/>
- 그래서 어느 애플리케이션이 송신한 데이터인지 어느 애플리케이션이 수신한 데이터인지 결정하기 위해서 포트번호(Port Number)라는 것이 부여된다.<br/>
- 4계충에서는 이러한 ‘통신에 필요한 처리’를 하는데, TCP/IP에서 실제로 이런 제어를 수행하는 것이 TCP(Transmission Control Protocol)와 UDP(User Datagram Protocol)라는 프로토콜이다.<br/><br/>

## 37. 커넥션과 세그먼트
- 데이터 전송을 시작하기 전에 미리 확인을 주고받아 둔다. 그렇게 해서 상대에게 확실하게 전달한 것을 확인하는 것. <br/>
- 가상의 통신로를 만들어 내는 것을 커넥션 확립이라고 한다.<br/>
- TCP 헤더의 크기는 기본적으로 20옥텟이라고 기억.<br/>
- 커넥션을 확립하기 위해서는 상대가 데이터 전송을 허가해 주지 않으면 안된다.<br/>
- 따라서 확실한 데이터 전송을 하는 통신로을 확보하기 위해 상대에게 데이터 전송의 허가 요청을 보내는 것. 그리고 요청을 받은 상대는 그것에 대한 허가를 송신처에게 알리는 것이다. 이것으로 데이터가 상대에게 바르게 전달된 것을 확인할 있는 것, 즉. 통신로가 확보되었다는 뜻이 된다. <br/>
- 반대로 수신처 측이 송신처에게 데이터 전송 허가 요청을 보낸다. 그것에 대해 송신처도 데이터 전송 허가를 보내고. 이로써 쌍방향의 통로가 확보되는 것.<br/>
- 커넥션의 확립에서는 3번 주고받아야 하기 때문에 3방향(3way) 악수(Handshake), 쓰리웨이 핸드쉐이크라고 부른다. <br/>
- 캡슐화할 때, 한 개의 데이터를 MSS(Max Segment Size)로 분할하는데, 한 개의데이터가 복수의 세그먼트가 된다. 그리고 각각의 세그먼트에 번호를 부여하고 이것을 시퀀스 번호라고 한다. <br/> <br/> 

## 38. 윈도우 제어
- 시퀀스 번호는 보내는 데이터의 부분에 있는 옥텟 번호이고, 확인응답 번호는 다음에 받고 싶은 데이터의 선두 옥텟 번호이다. <br/> 
- RTT(Round Trip Time)라는 값으로 판단한다. RTT는 지금까지 보낸 데이터에 대해 확인 응답이 돌아오기까지 걸린 시간으로 계산한다.<br/>
- ‘세그먼트 송신 -> 확인 응답’이라는 흐름이 실제로는 좀 더 효율 좋은 방법을 취하지 않으면, 시간만 너무 걸린다는 것. 그래서 '세그먼트 송신 -> 확인 응답'이라는 흐름은 같지만 ‘복수의 세그먼트 전송 -> 확인 응답’이라는 형태로 바꾸는 것. <br/>
- '정확, 확실'하고 효율적으로 보내기 위해 TCP 흐름 제어의 하나인 원도우 제어를 하는 것.<br/> 
- 윈도우 사이즈로 상대방에게 자신의 버퍼량을 전달해서‘확실’하게 수신할 수 있는 용량의 데이터만 송수신한다는 것. 이것을 원도우 제어라고 부른다.<br/> 
<br/> 

## 39. 포트 번호
- 포트 번호라는 것을 사용해서 각각의 데이터가 어느 애플리케이션으로부터 송신
되었는지, 어느 애플리케이션 수신인지를 결정하는 것.<br/>
- 통신 중인 애플리케이션은 각각 포트 번호와 접속하고 있고 포트에 붙여진 포트 번호로 데이터를 보낼 애플리케이션을 특정하는 것.<br/>
- 어떻게 데이터를 송수신하는가, 하면 IP 주소와 포트 번호를 사용해서 ‘어느 컴퓨터의 어느 애플리케이션’인지 식별한다.<br/>
- 수신처 포트 번호를 모르면 데이터를 보낼 수 없다는 점. 수신 받을 애플리케이션이 포트와 접속해 있지 않으면 데이터는 도달할 수 없다. <br/>
- 자주 사용하는 서버 애플리케이션(Server Application)은 사전에 정해진 번호를 사용함으로써 서비스를 제공할 수 있도록 하는 것.<br/><br/>

## 40. UDP
- 시퀀스 번호랑 확인 응답 번호 등은 TCP 특징인 정확, 확실을 실현하기 위해 필요한 부분이었다. 그러니까 이들을 가지지 않는 UDP는 아무것도 하지 않는 프로토콜인 것.<br/>
- UDP의 장점이자 최대 특징은 고속이라는 점이다.<br/>
- UDP에서는 고속성, 효율이 높다는 점을 살려서 고속성이나 실시간 송수신이 필요한 애플리케이션에 사용된다.<br/><br/>


## 41. 네트워크 주소 변환
- 보통 사설 IP 주소는 ICANN에서 관리하고 있다고 했었다. 이건 IP를 유일하게 관리하도록 하기 위해서인데, 이러한 IP 주소를 글로벌 IP 주소라고 한다.<br/>
- 큰 문제점은 인터넷에 접속하는 대수가 너무 많아서 글로벌 IP 주소가 부족하다는 점.<br/>
- 가장 간단하면서 유효한 수단으로 사용되고 있는 것이 네트워크 주소 변환(Network Address Translation)이다.<br/>
- 저 내부 네트워크에는 사설 IP 주소를 할당하는데 사설 IP 주소를 할당하는 이유는 내부 네트워크 내에서 TCP/IP 사용한 통신을 하기 위해서다.<br/> 
- 큰 단점은 보유하는 글로벌 IP 주소 이상의 호스트는 인터넷에 동시에 접속할 수 없는 것.<br/><br/> 

## 42. NAPT
- NAPT(Network Address Port Translation)의 가장 큰 특징은 하나의 글로벌 IP 주소로 복수의 컴퓨터를 접속 가능하게 한다.<br/>
- NAPT에서는 IP 주소뿐만 아니라 포트 번호도 변환해서 복수의 컴퓨터 접속을 가능하게 한다.<br/>
- 보안이 NAPT 단점이기도 하다. 그것은 LAN 내부에서 외부로 공개하고 싶은 서버가 있을 경우다.<br/>
- NAPT 테이블에 저장 되어 있지 않는 것은 LAN 내부에 들어오지 못한다는 것. <br/>
- NAPT 테이블에 저장만 되어 있으면 LAN 내부에 들어갈 수 있으니, NAPT 테이블에 미리 변환을 저장시켜 주면 되는 것. <br/>
- 보통은 NAPT 자동적으로 포트 번호를 변환하는데, 여기서는 수동으로 변환을 입력해 둔다. 이것을 정적 NAPT라고 한다.<br/>
- 데이터 부분에 IP 주소가 들어가는 애플리케이션에는 개별적으로 대응한다.<br/>
<br/>

## 43. 5~7 계층
- 5, 6, 7계층은 TCP/IP의 경우 통합해서 하나의 프로토콜이 된 경우가 많다.<br/>
- 애플리케이션 간의 의논의 관리가 세션계충의 역할이라는 것. 간단하게 말하면 대화가 성립하도록 제어를 한다. 이것을 다이얼 로그 제어 (Dialog Control)라고 한다.<br/>
- 6계층에서 변환을 해서 하드웨어랑 OS에 따른 차이를 없앤 데이터 교환이 가능하게 되는 것. 그 밖에도 압축이나 암호화를 수행할 수도 있다. 이렇게 애플리케이션과는 동떨어진 데이터 형식의 전송을 위한 변환이 바로 6계층이 하는 역할.<br/>
- 애플리케이션의 목적에 따라 네트워크 서비스를 제공하는 계층이라는 것. 7계층에는 각각의 목적에 따른 프로토콜이 준비되어 있다.<br/><br/>

## 44. OSI 참조 모델과 요약
- 각 계층은 하위 계층의 상황은 전혀 생각하지 않는다. 반드시 순서와 기능을 전제로 구분해서 생각할 필요가 있다.<br/>
- 5~7계층은 4계층 이하의 기능에서 애플리케이션 별로 도달한 데이터를 처리하는 것.<br/>
- 7계충이 네트워크 서비스를 실시하고, 6계층이 데이터 형식을 변환하고, 5계층이 세션을 관리한다.<br/> 
- 4계층은 3계층 이하의 기능으로 컴퓨터에 도달한 데이터에 대해 신뢰성이 높은 데이터 통신을 5계층에게 제공하는데 애플리케이션을 식별하고, 각각에 대해 신뢰성이 있다, 없다를 제공하는 것.<br/>
- 하위의 3계충은 2계층 이하의 기능에서 케이블에 접속된 기기 간의 데이터 통신을 사용해 다른 네트워크 간의 접속을 4계층에게 제공한다.<br/>
- 2계층은 1계층의 기능에서의 전기적인 데이터를 사용해서 서로 다른 기기의 데이터 송수신을 3계층에 제공한다.<br/>
- 1계충은 전기와 신호를 담당한다. 즉, 케이블과 신호를 2계층에 제공하는 것이다.<br/>
- 하위 계층은 상위 계층에게 기능을 제공하고 데이터 전송을 수행하는 환경을 만들어 간다고 할 수 있다. 그리고 최종적으로 7계층이 애플리케이션에게 네트워크 서비스 그 자체를 제공하는 셈이 되는 것이다.<br/><br/>