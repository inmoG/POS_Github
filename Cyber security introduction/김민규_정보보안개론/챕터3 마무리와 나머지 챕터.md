## Chapter 3 네트워크 보안 마무리

### 세션 하이재킹 공격

두 시스템 간의 연결이 활성화된 상태, 즉 **로그인 된 상태를 가로채는 공격이다.** <br/>서버와 클라이언트가 **TCP**를 이용하여 통신하고 있을 때 **RST** 패킷을 보내어 일시적으로 TCP 세션을 끊고 **시퀀스 넘버**를 새로 생성하여 세션을 빼앗아 **인증을 회피**하는 형태이다.

### 무선 네트워크 보안 

- 물리적인 보안을 유지하고 관리자 패스워드를 변경한다.<br/><br/>
- SSID 브로드캐스팅을 금지한다.<br/><br/>
- **WEP 암호화**: 128비트 키까지 암호화 키를 제공한다.<br/><br/>
- **WPA-PSK** 암호화: WEP 암호화의 취약점을 해결한 암호화 방식을 제공한다.<br/><br/>
- **EAP와 802.1x 암호화**: EAP는 무선 랜 클라이언트와 RADIUS 서버 간의 통신을 가능하게 하는 프로토콜이고, 802.1x는 포트에 대한 접근을 통제하는 프로토콜이다.

## Chapter 4 웹 보안

### 웹의 역사

- 1969년 미국 국방부 산하 고등연구계왹국인 ARPA는 전 세계 주요 거점을 연결하는 네트워크가 처음 만들어냈다.<br/><br/>
- 1989년 스위스 제네바의 유럽입자물리연구소에서 근무하던 팀 버너스 리는 연구 목적으로 **월드 와이드 웹(WWW)** 프로젝트를 시작했다.

### HTTP

- HTTP Request
  - **GET 방식**: 가장 일반적인 HTTP Request 형태로, 요청 데이터의 인수를 웹 브라우저의 URL을 통해 전송한다.
  - **POST 방식**: URL에 요청 데이터를 기록하지 않고 HTTP 헤더에 데이터를 전송한다.
- HTTP Response
  - 200번대(성공): 클라이언트의 요구가 성공적으로 수신 및 처리되었음을 의미한다.
  - 500번대(서버 측 에러): 서버 자체에서 발생한 오류 상황이나 요구 사항을 제대로 처리할 수 없을 때 사용한다.

### 웹 서비스 언어 
- **HTML**: HTML은 가장 단순한 형태의 **웹 언어**이다. 웹 서버에 HTML 문서를 저장하고 있다가 **클라이언트가 특정 HTML 페이지를 요청**하면 해당 문서를 클라이언트에 전송한다. 클라이언트는 이 웹 페이지를 해석하여 **웹 브라우저에 표현**해준다.<br/><br/>
- **SSS**: ASP, JSP와 같이 동적인 페이지를 제공한다. 확장자가 ASP나 JSP인 웹 문서를 요청하면 서버는 ASP일 경우 DLL이나 OCX 등의 파일을 이용하고 JSP일 경우 서블릿을 이용하여 요청을 처리한 수 그 결과를 HTML 파일로 만들어 클라이언트에 전송한다.<br/><br/>
- **CSS**: 웹 서비스에 사용되는 스크립트로 자바스크립트, 비주얼베이직 스크립트 등이 있는데, 이는 클라이언트 측의 웹 브라우저에 의해 해석되고 적용된다.

### 웹 프록시를 통한 취약점 분석

웹 프록시는 **웹의 구조를 파악**하거나 **취약점을 점검할 때 혹은 웹 해킹을 할 때** 사용하는 **툴**이다.<br/>일반적으로 웹 해킹에 사용되는 웹 프록시는 클라이언트에 설치되고 클라이언트의 통제를 받는다.<br/>즉 클라이언트가 웹 서버와 웹 브라우저 간에 전달되는 **모든 HTTP 패킷**을 웹 프록시를 통해 **확인하면서 수정할 수 있다.**

### 구글 해킹을 통한 정보 수집

| 검색 인자 | 설명 | 검색 추가 인자 |
|:---------|:--------------|:-------------|
| site | 특정 도메인트로 지정한 사이트에서 검색하려는 문자열이 포함된 사이트를 찾는다. | YES |
| filetype | 특정 파일 유형에 한해 검색하는 문자가 들어 있는 사이트를 찾는다. | YES |
| link | 링크로 검색하는 문자가 들어 있는 사이트를 찾는다. | NO |
| cache | 특정 검색어에 해당하는 캐시된 페이지를 보여준다. | NO |
| intitle | 페이지 제목에 검색하는 문자가 들어 있는 사이트를 찾는다. | NO |
| inurt | 페이지 URL에 검색하는 문자가 들어 있는 사이트를 찾는다. | NO |

### 웹 주요 취약점

- **명령 삽입 취약점**<br/><br/>
  - 클라이언트의 요청을 처리하기 위해 전송받는 인수에 특정 명령을 실행하는 코드를 포함하여 웹 서버에 전송하고 실행한다.<br/><br/>
  - 웹 서비스가 예외적인 문자열을 적절히 필터링하지 못하는 경우에 발생한다.<br/><br/>
  - 명령 삽입 공격의 대표적인 형태는 SQL 삽입 공격이다.<br/><br/>
- **인증 및 세션 관리 취약점**<br/><br/>
  - 취약한 패스워드 설정: 취약한 인증의 가장 대표적인 문제점은 패스워드 설정으로, 웹을 비롯해 패스워드를 사용하는 모든 운영체제와 응용 프로그램에 공통적으로 해당한다.<br/><br/>
  - 사용자 데이터를 이용한 인증: 데이터 신뢰도에 대한 증명 권한을 클라이언트에게 넘기면 클라이언트가 권한을 악용할 수 있다.<br/><br/>

- **XSS 취약점**<br/><br/>
  - 공격자가 작성한 스크립트가 다른 사용자에게 전달되는 것이다.<br/><br/>
  - 다른 사용자의 웹 브라우저 안에서 적절한 검증 없이 실행되기 때문에 사용자의 세션을 탈취하거나 웹 사이트를 변조하고 악의적인 사이트로 사용자를 이동할 수 있다.<br/><br/>

- **취약한 접근 제어**<br/>

  - 관리자 페이지가 추측하기 쉬운 URL이거나 인증이 필요한 페이지에 대한 인증 미처리로 인증을 우회하여 접속할 수 있는 취약점이다.<br/><br/>
  - 인증 우회를 막으려면 중요 페이지에 접근할 때 사용자 세션 값(쿠키)을 검증한다.<br/><br/>
- **보안 설정 오류**<br/>
  - 디렉터리 리스팅: 웹 브라우저에서 웹 서버의 특정 디렉터리를 열면 그 디렉터리에 있는 파일과 목록이 모두 나열되는 것을 말한다.<br/><br/>
  - 백업 및 임시 파일 존재: 공격자는 개발자가 남겨둔 백업 파일이나 임시 파일을 통해 중요한 정보를 획득할 수 있다.<br/><br/>
  - 미흡한 주석 관리: 주석에는 여러 가지 정보가 기록되므로 주의가 필요하다.<br/><br/>
- **민감한 데이터 노출**<br/>
  - 데이터의 중요도에 따라 암호화 로직을 사용하고 데이터베이스 테이블 단위에서 암호화를 수행해야 한다.<br/><br/>
- **공격 방어 취약점**<br/>
  - 웹 애플리케이션에서 공격의 탐지, 로깅, 응답 및 공격 시도 차단을 수행해야 한다.<br/><br/>
- **CSRF 취약점**<br/>
    - 불특정 다수를 대상으로 로그인된 사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위(수정, 삭제, 등록, 송금 등)를 하게 만드는 공격이다.<br/><br/>
- **취약점이 있는 컴포넌트 사용**<br/>
  - 사용하려는 컴포넌트, 라이브러리 등의 보안 취약점이 무엇인지 충분히 검토해야 한다.<br/><br/>
- **취약한 API**<br/>
  - 보안에 취약한 API 사용은 보안 문제를 초래할 수 있으므로 충분한 검토가 필요하다.<br/><br/>

### 웹 취약점 보안

- 특수문자 필터링<br/><br/>
- 서버 통제 적용<br/><br/>
- 지속적인 세션 관리<br/><br/>

## Chapter 5 코드 보안

### 메모리의 기본 구조

- 메모리는 크게 스택과 힙으로 구분되며 구조는 다음과 같다.<br/><br/>

| 상위 메모리 주소(0 x FFFF) | |
|:-------------:|------------:|
| env/argv 문자열 |--ㄱ|
| env/argv 포인터 |환경변수와 명령 창의 데이터 저장|
| argc |--ㅣ|
| **스택 영역** | 로컬 인자와 프로세스 상태 저장/스택 포인터
|--------------------- | |
| **힙 영역** | 동적으로 할당된 데이터 저장 |
|데이터(.bss)|초기화되지 않은 변수|
|데이터(.data)|초기화된 변수|
|코드(.text)|보통 읽을 수 있는 부분이 있으나 변조될 경우 세그먼테이션 오류 발생|
| 하위 메모리 주소(0 x 0000) |

- 스택: 프로그램 로직이 동작하기 위한 인자와 프로세스 상태를 저장하는 데 사용된다.<br/><br/>
- 힙: 프로그램이 동작할 때 필요한 데이터 정보를 임시로 저장하는 데 사용된다.

### 80x86 CPU의 주요 레지스터

|범주|80386 레지스터|이름|비트|용도|
|:-------|:-------|:---------|:----|:----------------|
|범용 <br/>레지스터|EAX|누산기(accmulator)|32|산술 연산에 사용(함수의 결과 값 저장)|
|"|EBX|베이스 레지스터<br/>(base register)|32|특정 주소 저장(주소 지정을 확대하기 위한 인덱스로 <br/>사용)|
|"|ECX|카운트 레지스터<br/>(count register)|32|반복적으로 실행되는 특정 명령에 사용<br/>(루프의 반복 횟수나 좌우 방향 시프트 비트 수 기억)|
|"|EDX|데이터 레지스터<br/>(data register)|32|일반 데이터 저장<br/>(입출력 동작에 사용)|
|포인터 <br/>레지스터|EBP|베이스 포인터<br/>(base pointer)|32|SS 레지스터와 함께 스택 내의 변숫값을 읽는 데 사용|
|"|ESP|스택 포인터<br/>(stack pointer)|32|SS 레지스터와 함께 스택의 가장 끝 주소를 가리킴|

### 셸

셸은 운영체제를 둘러싸고 있으면서 입력받는 명령어를 실행하는 명령어 해석기이다.

### 프로세스 권한과 SetUED

각 계정에는 고유한 UID가 있는데, SetUID가 부여된 프로그램을 실행할 때는 임시로 권한을 바꿀 수 있다.
  - Test에 SetUID 비트가 있는 경우 프로세스 권한 변경<br/><br/>
    - Test 실행 전에는 Test의 소유자인 root 계정의 권한을 일반 계정이 임시로 가질 수 있다. <br/>Test 실행 후에는 다시 일반 계정의 권한으로 전환된다.<br/><br/>
  - Test에 SetUID 비트가 없는 경우 프로세스 권한
      - Test를 실행한 일반 계정의 권한은 SetUID 비트가 없으면 root 권한을 가질 수 없다.

### 버퍼 오버플로 공격

- **데이터의 길이**에 대한 불명확한 정의를 악용한 **덮어쓰기**로 발생한다.<br/>정상적인 경우에는 사용되지 않아야 할 주소 공간, 즉 원래는 경계선 관리가 적절하게 수행되어 덮어쓸 수 없는 부분에 해커가 임의의 코드를 덮어쓰는 공격이다.<br/><br/>
- 버퍼 오버플로 공격의 대응책 중 하나는 버퍼 오버플로에 취약한 다음과 같은 함수를 사용하지 않는 것이다.<br/><br/>
  - strcpy(char *dest, const char *src);
  - strcat(char *dest, const char *stc);
  - getwd(char *buf);
  - gets(char *s);
  - fscanf(FILE *steram, const char *format, ...);
  - scanf(const char *format, ...);
  - realpath(char *path, char resolved_path[]);
  - sprintf(char *str, const char *format);

### 포멧 스트링 공격

**데이터 형태**에 대한 불명확한 정의로 발생한다. <br/>버퍼 오버플로 공격처럼 **ret 값을 변조**하여 임의의 코드를 실행할 수 있다.

### 포멧 스트링 문자의 종류

|파라미터|특징|파라미터|특징
|:------|:-------|:--------|:--------|
|%d|정수형 10진수 상수(integer)|%o|양의 정수(8진수)|
|%f|실수형 상수(float)|%x|양의 정수(16진수)|
|%lf|실수형 상수(double)|%s|문자열|
|%s|문자 스트링((const)(unsignned) char*)|%n|*int(쓰인 총 바이트 수)|
|%u|양의 정수(10진수)|%hn|%n의 절반인 2바이트 단위|

### 메모리 해킹

프로그램의 동작에 관여하지 않고, 프로그램이 실행되는 데 필요한 정보를 저장해둔 메모리를 직접 조작하여 <br/>프로그램 실행에 관여하는 공격 방법이다.

## Chapter 6 악성 코드

### 악성 코드 정의

**악성 코드**는 제작가가 의도적으로 사용자에게 피해를 주기 위해 만든, 모든 악의적 목적을 가진 <br/>프로그램 및 메크로, 스크립트 등으로, 컴퓨터에서 작동하는 실행 가능한 모든 형태를 말한다.

### 목적에 의한 악성 코드 분류

|코드 이름|설명|
|:-------|:---|
|다운로더|네트워크를 통해 내려받은 데이터나 프로그램으로 추가 공격을 하는 악성 코드이다.|
|드로퍼|자신 안에 존재하는 데이터로부터 새로운 파일을 생성하여 공격을 수행한다.|
|런처|다운로더나 드로퍼 등으로 생성된 파일을 실행하는 기능을 가지고 있다.|
|애드웨어|광고가 포함된 소프트웨어로, 자체에 광고를 포함하거나 같이 묶어서 배포한다.|
|스파이웨어|개인이나 기업의 정보를 몰래 수집하여 동의 없이 다른 곳에 보내는 것이 목적이다.|
|랜섬웨어|사용자의 파일을 암호화하여 사용자가 실행하거나 읽을 수 없도록 한 뒤 자료를 인질로 돈을 요구한다.|
|백도어|비인가된 접근을 허용하는 것으로, 공격자가 사용자 인증 과정 등의 정상 절차를 거치지 않고 프로그램이나 시스템에 접근할 수 있도록 지원한다.|
|익스플로잇|운영체제나 특정 프로그램의 취약점을 이용하여 공격하는 악성 코드이다.|
|봇|DDoS 공격 시 지정된 공격을 수행하도록 하는 악성 코드로, 수많은 봇이 모여 대규모 DDoS 공격을 수행하는 봇넷을 구성한다.|
|스캐어웨어|악성 코드에 감염되지 않았는데도 악성 코드를 탐지했다고 겁을 주어 자사의 안티바이러스 제품으로 제거해야 한다는 식으로 구매를 유도한다.|

### 악성 프로그램 감염 증상

- **시스템 관련:** 시스템 설정 정보 변경, 파일 시스템 파괴, CMOS 변경 및 정보 파괴, 특정 프로그램 자동 실행, 시스템 종료 등<br/><br/>
- **네트워크 관련:** 메일 발송, 네트워크 속도 저하 등<br/><br/>
- **하드디스크 관련:** 하드디스크 포멧, 하드디스크의 특정 부분 파괴 등<br/><br/>
- **파일 관련:** 백도어 및 웜을 위한 백업 파일 생성, 파일 삭제 등<br/><br/>
- **특이 증상:** 특정 음 발생, 이상 화면 출력, 메세지 상자 출력 등

### 바이러스

- 사용자의 컴퓨터(네트워크로 공유된 컴퓨터 포함)에서 프로그램이나 실행 가능한 부분을 몰래 수정하여 자신 또는 자신의 변형을 복사하는 프로그램이다.<br/><br/>
- **1세대 원시형 바이러스**
  - 부트 바이러스: MBR과 함께 PC 메모리에 저장되어 부팅 시 자동으로 동작하여 부팅 후에 사용되는 모든 프로그램을 감염시킨다.<br/><br/>
  - 파일 바이러스: 바이러스에 **감염된 실행 파일이 바이러스 코드를 실행한다.** <br/>바이러스가 프로그램을 덮어쓰는 경우, 프로그램 앞부분에 실행 코드를 붙이는 경우, 프로그램 뒷부분에 실행 코드를 붙이는 경우가 있다.<br/><br/>
- **2세대 암호형 바이러스** <br/>바이러스 코드를 쉽게 파악하여 제거할 수 없도록 **암호화**한 바이러스이다.<br/><br/>
- **3세대 은폐형 바이러스** <br/>바이러스에 감염된 파일이 일정 기간의 **잠복기**를 가지도록 하는 바이러스이다.<br/><br/>
- **4세대 다형성 바이러스**<br/>코드 조합을 다양하게 할 수 있는 **조합 프로그램을 암호형 바이러스에 덧붙여 감염시킨다.** <br/>프로그램이 실행될 때마다 바이러스 코드 자체를 변경하여 식별자를 통해 구분하기 어렵게 한다.<br/><br/>
- **5세대 매크로 바이러스**<br/>응용 프로그램과 사무용 프로그램이 개발되면서 등장한 바이러스로 **스크립트 형태의 실행 환경을 이용하여 전파된다.**<br/>주로 **MS 오피스 프로그램의 매크로 기능을 통해 감염된다.**

### 웜

- 인터넷 또는 네트워크를 통해 컴퓨터에서 컴퓨터로 전파되는 프로그램이다. <br/>다른 컴퓨터의 취약점을 이용하여 스스로 전파되거나 메일로 전파된다.<br/><br/>
- **매스메일러형 웜**<br/>자기 자신을 포함하는 **대량 메일을 발송**하여 확산되는 웜이다. <br/>제목이 없는 메일이나 특정 제목의 **메일을 전송하고 사죵자가 이를 읽었을 때 감염되며**, 시스템 내부에서 메일 주소를 수집하여 메일을 계속 보낸다.<br/><br/>
- **시스템 공격형 웜**<br/>**운영체제 고유의 취약점**을 이용하여 내부 정보를 파괴하거나, 컴퓨터를 사용할 수 없는 상태로 만들거나, 또는 외부의 공격자가 시스템 내부에 접속할 수 있도록 악성 코드를 설치한다.<br/><br/>
- **네트워크 공격형 웜**<br/>특정 네트워크나 시스템에 대해 DoS 공격을 수행한다.<br/><br/>

### 트로이 목마

**악성 루틴이 숨어 있는 프로그램**으로, 겉보기에는 정상적인 것 같지만 사용자가 실행하면 악성 코드가 실행된다.<br/><br/>

### PUP

사용자가 설치할 의도가 없으나 용도를 쉽게 파악하기 어려운 상태에서 직간접적으로 사용자에게 동의를 구하여 설치되는 프로그램이다.

### 악성 코드 탐지 및 대응책

1. **네트워크 상태 점검하기:**<br/>악성 코드가 외부 공격자와의 통신이나 서비스 거부 공격 신호를 수신하기 위해 생성한 서비스 포트를 확인한다.<br/><br/>
2. **정상적인 프로세스와 비교하기:**<br/>정상적인 프로세스와 네트워크 상태에서 확인한 프로세스를 비교 및 분석한다. <br/>악성 코드는 주로 iexplorer, xsrss, svchost 등을 이용한다.<br/><br/>
3. **악성 코드의 실제 파일 확인하기:**<br/>네트워크 상태와 프로세스 분석을 통해 파악한 악성 코드의 실제 파일을 확인한다.<br/><br/>
4. **시작 프로그램과 레지스트리 확인하기:**<br/>악성 코드는 레지스터를 이용하는 경우가 많으므로 악성 코드를 삭제할 때 시작 프로그램과 레지스트리의 내용을 확인한다.<br/><br/>
5. **악성 코드 제거하기:**<br/>악성 코드 프로세스 중지하기 -> 악성 코드 파일 삭제하기 -> 레지스트리 삭제하기

## Chapter 10 보안 시스템

### 인증 수단 

- **알고 있는 것:**<br/>아이디, 패스워드 등 사용자가 알고 있는 정보를 이용하여 인증하는 것일 말한다.<br/><br/>
- **자신의 모습:**<br/>사용자의 고유한 생체 조직을 이용하여 인증하는 것을 말한다.<br/><br/>
- **가지고 있는 것:**<br/>사용자가 소유한 것을 인증 수단으로 이용하는 방식으로 스마트키 또는 스마트카드, 신분증, OTP, 공인인증서 등이 있다.<br/><br/>
- **위치하는 곳:**<br/>사용자의 위치 정보를 이용하는 인증 방식으로 사용자의 IP 확인, 콜백 등이 있다.

### SSO

- 모든 인증을 하나의 시스템에서 수행하는 것으로, 한 시스템의 인증에 성공하면 다른 시스템의 접근 권한도 모두 얻게 된다.<br/><br/>
- 가장 큰 약점은 일단 최초 인증 과정을 통과하면 모든 서버나 사이트에 접속할 수 있다는 것인데, <br/>이를 단일 장해점이라고 한다.

### 방화벽

- 네트워크에서 보안을 높이기 위한 일차적인 방법으로, 신뢰하지 않는 외부 네트워크와 신뢰하는 내부 네트워크 사이를 지나는 패킷을 미리 정한 규칙에 따라 차단하거나 보내주는 기능을 하는 하드웨어나 소프트웨어를 말한다.<br/><br/>
- **기능**
  - 접근 제어: <br/>통과시킬 접근과 거부할 접근에 따라 허용 또는 차단을 수행한다.<br/><br/>
  - 로깅과 감사 추적:<br/>허용 또는 차단된 접근에 대한 기록을 유지한다.<br/><br/>
  - 인증:<br/>메시지 인증, 사용자 인증,클라이언트 인증 등으로 인증을 수행한다.<br/><br/>
  - 데이터 암호화:<br/>한 방화벽에서 다른 방화벽으로 데이터를 암호화해서 보내는 것을 말한다.

### 침입 탐지 시스템 - 사후 대책

- 네트워크에서 **백신과 유사한 역할**을 하는 침입 탐지 시스템은 네트워크를 통한 **공격을 탐지**하기 위한 장비로, <br/>내부의 해킹이나 악성 코드 활동 탐지와 같이 **방화벽이 하지 못하는 일을 한다.**<br/><br/>
- 주요 기능은 데이터 수집, 데이터 필터링과 축약, 침입 탐지, 책임 추적 및 대응이다.<br/><br/>

### 침입 방지 시스템 - 사전 대책

침입 탐지 시스템과 방화벽의 조합이라고 생각할 수 있다.<br/>침입 탐지 기능을 수행하는 모듈이 **패킷 하나하나를 검사하여 분석**하고, 정상적이지 않으면 방화벽 기능의 모듈로 **패킷을 차단한다.**

### 통제 및 감시 장비

감시 카메라, 엑스레이 검사기, 금속 탐지기, 보안 스티커 등이 있다.

### 기타 보안 솔루션

- **VPN:**<br/>인터넷 회선을 임대 회선처럼 사용할 수 있게 해주는 솔루션으로 임대 회선과 비슷한 수준의 기밀성을 제공한다.<br/>회사 밖에서 회사 서버에 보안 상태로 접근하거나 해외에서 국내에 접근할 때, 본사와 지사를 안전하게 연결할 때 사용한다.<br/><br/>
- **VLAN:**<br/>네트워크를 작은 네트워크로 나누어 ACL을 통해 접근 통제가 가능하고, 웜과 같은 악성 코드가 발생했을 때도 범위를 제한할 수 있다.<br/><br/>
- **NAC:**<br/>과거의 IP 관리 시스템에서 발전한 솔루션으로, MAC 주소를 기반으로 접근 제어 및 인증을 수행하여 임의의 사용자가 접속할 수 없게 한다.<br/><br/>
- **보안 운영체제:**<br/>운영체제에 내재된 결함 때문에 발생할 수 있는 각종 해킹으로부터 시스템을 보호하기 위해 보안 기능이 통합된 보안 커넝을 추가로 이식한 운영체제이다.<br/><br/>
- **백신:**<br/>PC 또는 서버에 설치되어 시스템의 바이러스를 탐지한다.<br/><br/>
- **PC 방화벽:**<br/>네트워크상의 웜이나 공격자로부터 PC를 보호하는 PC용 방화벽이다.<br/><br/>
- **스팸 필터 솔루션:**<br/> SMTP 프로토콜을 이용한 DoS 공격이나 폭탄 메일, 스팸 메일을 메일 해더 필터링, 제목 필터링, 본문 필터링, 첨부 파일 필터링으로 차단한다.<br/><br/>
- **DRM:**<br/>운영체제 커널에 DRM 모듈을 삽입하여 문서의 열람, 편집, 인쇄에 접근 권한을 설정하여 통제한다.<br/><br/>
- **DLP:**<br/>사용자 수준에서 정보가 유출되는 것을 막는 솔루션을 통칭하며 사용자의 다양한 데이터 전송 인터페이스를 제어한다.<br/><br/>

## Chapter 11 침해 대응과 포렌식

### 침해 대응 절차

1. **사전 대응:**<br/>침해 사고가 발생하기 전에 침해 대응 체계를 갖추는 것이다.<br/><br/>
2. **사고 탐지:**<br/>어떤 문제가 발생했을 때 일반적인 문제인지, 침해 사고가 발생한 것인지 확인한다.<br/><br/>
3. **대응:**<br/>침해 사고로 인한 손상을 최소화하고 추가적인 피해를 막는다.<br/><br/>
   - 단기 대응:<br/> 손상을 최소화하기 위한 기본적인 단계로, 침해 사고가 발생한 시스템이나 네트워크를 식별하고 **통제할 수 있는 경우**에는 해당 시스템이나 네트워크의 연결을 해제하거나 차단한다.<br/><br/>
   - 백업 및 증거 확보:<br/>후속 처리를 위해 침해 사고 발생 시스템을 초기화하기 전에 백업을 하고 포헨식 절차에 따라 시스템 이미지를 획득한다.<br/><br/>
   - 시스템 복구:<br/>백도어 등의 악성 코드 제거, 시스템 계정 및 패스워드 재설정, 보안 패치 적용 작업을 거친 뒤 다시 서비스가 가능하도록 시스템을 네트워크에 연결한다.<br/><br/>
4. **제거 및 복구:**<br/>최초 침해 사고가 발생한 시스템 및 네트워크 외에 추가로 발생한 곳이 있는지 모두 확인하고 조치한다.<br/><br/>
5. **후속 조치 및 보고:**<br/>침해 사고의 원인을 파악하고 장기적인 대응책을 마련하도록 침해 사고에 대한 보고서를 작성한다.<br/><br/>

### 포렌식의 증거

- **디지털 포렌식**은 컴퓨터 관련 조사 및 수사를 지원하며 디지털 데이터가 **법적 효력**을 갖도록 **과학적 및 논리적 절차와 방법**을 연구하는 학문을 말한다.<br/><br/>
- 포렌식으로 획득한 증거는 간접 증거, 즉 전문 증거에 속한다.<br/><br/>
- 포렌식으로 획득한 증거가 법적인 효력을 가지려면 다음과 같은 원칙을 지켜야 한다.<br/><br/>
  - **정당성의 원칙:**<br/>모든 증거는 적법한 절차를 거쳐서 얻은 것이여야 한다.<br/><br/>
  - **재현의 원칙:**<br/>같은 환경에서 같은 결과가 나오도록 재현할 수 있어야 한다.<br/><br/>
  - **신속성의 원칙:**<br/>컴퓨터 내부의 정보는 휘발성을 가진 것이 많기 때문에 신속하게 획득해야 한다.<br/><br/>
  - **연계 보관성의 원칙:**<br/>증거의 이송, 분석, 보관, 법정 제출 과정이  명확해야 한다.<br/><br/>
  - **무결성의 원칙:**<br/>증거는 위조 및 변조되어서는 안 된다.<br/><br/>

### 포렌식 수행 절차

- **수사 준비:**<br/>장비의 툴을 확보하고 적절한 법적 절차를 거쳐 피의자 또는 수사 대상에 접근한다.<br/><br/>
- **증거물 획득:**<br/>증거를 획득하는 사람과 이를 감독하는 사람, 그리고 인증하는 사람의 참관하에 증거를 획득한다.<br/><br/>
- **보관 및 이송:**<br/>획득한 증거는 연계 보관성을 가지면서 보관 및 이송되어야 한다.<br/><br/>
- **분석 및 조사:**<br/>최량 증거 원칙에 따라 법원에 제출하는 원본 또는 최초의 복제물은 기본적으로 보관하고 이를 다시 복사한 것을 조사 및 분석한다.<br/><br/>
- **보고서 작성:**<br/>분석에 사용한 증거 데이터, 분석 및 조사 과정에서 증거 수집을 위해 문서화한 무결성과 관련된 정보, 스크립트 수행 결과를 보고서로 작성하여 증거와 함께 제출한다.<br/><br/>

### 네트워크 증거 수집

-  **보안 솔루션 이용:**<br/>침입 탐지 시스템, 침입 차단 시스템, 방화벽, MRTG 등에 남아 있는 로그를 증거로 확보한다.<br/><br/>
-  **네트워크 로그 서버 이용:**<br/>네트워크 로그 서버를 별도로 운영한다면 해당 로그를 증거로 확보한다.<br/><br/>
-  **스니퍼 운용:**<br/>스니퍼를 운용하여 백도어나 웜 또는 바이러스에 대한 탐지 및 증거 수집 활동을 수행한다.<br/><br/>

### 시스템 증거 수집

- **활성 데이터 수집:**<br/>시간이 지나면 쉽게 사라지는 네트워크 세션 데이터와 메모리에 존재하는 정보를 얻는다.<br/><br/>
- **시스템 로그 분석:**<br/>시스템에 동적하도록 설정된 로그를 분석하여 침해 사고 관련 증거를 확보한다.<br/><br/>
- **저장 장치 분석:**<br/>시스템의 하드디스크에 저장된 정보뿐만 아니라 삭제된 정보를 획득한다.<br/><br/>

### 데이터 및 응용 프로그램 증거 수집

- **이메일 분석:**<br/> 피의자들이 주고받은 이메일을 분석하여 범죄의 증거를 확보한다.<br/><br/>
- **인터넷 분석:**<br/> 시스템에 저장되어 있는 인터넷 브라우저의 쿠키나 index.dat 파일, temp 등을 이용하여 방문 사이트의 정보를 획득하고 작업 내용을 파악한다.